<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/magazines/inmc-80-news/04/50/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>INMC 80 News - May&ndash;September 1981 - Issue 4</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="INMC 80 News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">INMC 80 News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">May&ndash;September 1981 &middot; <span class="nowrap">Issue 4</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../49/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../03/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 50 of 71</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../05/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../71/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-inmc-80-news issue-04 page-50" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 1 column: start --><div>
<p>
second, so two hundred times round the delay loop will be appropriate. So let&rsquo;s draw
up the spec. of the delay routine:
</p>
<p class="noindent">
1) Set B counter to 200 (decimal)<br>
2) Delay for 5mS<br>
3) Do the loop until B is 0
</p>
<p class="continued">
Now before we go ahead and use the routine in NAS-SYS, we ought to check that it&rsquo;s not
going to muck up anything else. So have a look at it. Go on, see if you can figure out
how it works before reading on. Got it, good. It works almost like the counting
routine I wrote originally, except that it counts in the A register, and throws in a
couple of PUSHes and POPs for no better reason than to waste time. The important point
is that the only thing that gets changed is the A register, as, for the routine to
return, the A register has to contain 0, so, on the return the A register will contain
0. Now that doesn&rsquo;t matter at all, as the next thing we do with the A register is to
fill it with the next character to be put on the screen. But watch out, NAS-SYS and
Nasbug usually (but not always) ensure that things are unchanged except where
neccessary, but don&rsquo;t assume this to always true. CP/M for instance can be relied upon
to change almost everthing in sight when an internal routine is called.
</p>
<p>
So the delay routine suddenly looks like this:
</p>
<img class="img-fluid" src="../../Image-48-1.png" alt="" width="416" height="87">
<p class="continued">
Now there is something I&rsquo;ve (deliberately) forgotten. Yup, you got it, there&rsquo;s a
location there which I fixed as a label, and I didn&rsquo;t declare it. I know what it is,
and you should know (because I told you earlier. But, as my junior school English
teacher used to say, &lsquo;What about the man from the moon, he doesn&rsquo;t know what you&rsquo;re on
about because you haven&rsquo;t told the complete story.&rdquo; Mind you, if there are men in the
moon, they must be very wise, as they had the good sense to stay out of sight when the
Yanks arrived. Anyway, a new line, 15:
</p>
<pre>
15      RDEL    EQU 0038H
</pre>
<p class="continued">
Now we have shortened the delay routine considerably, introduced the concept of nested
subroutines, and ended up making the program monitor dependent. The first one was a
good idea, short routines are always easier to understand. Nested subroutines are also
a good idea as they lead to simple, easy to understand modules, and although they take
longer to execute, the trade off between speed and simplicity must be in favour of
simplicity for the purposes of this demonstration, after all, the nested subroutine is
an arbitory delay, so speed in accessing it can hardly be important. The last point
about making it monitor dependent is very arguable. The program now depends on NAS-SYS
or Nasbug being present, so it&rsquo;s dedicated to a Nascom using one or other of the
monitors (I don&rsquo;t know about NAS-MON, I&rsquo;ve never tried it). The program is now monitor
dependent, unlike my first attempt, where the only requirement was RAM at the point I
chose for the program to run, and a screen RAM at the point where I put the
characters. On a little example like this, it&rsquo;s not very relevant, but when you start
using large chunks of the monitor, routines like &lsquo;KBD&rsquo; and &lsquo;CRT&rsquo; then programs written
will be several hundred bytes shorter, but will be very definitely monitor dependent.
</p>
<p>
Now for the last part of this lesson. (Thank goodness for the little space
counter on Diskpen, it tells how close to the end I am before t get there.) The HL
register has now been freed by the use of RDEL in the monitor. Now HL is a very useful
register, it is the main &lsquo;pointer&rsquo; register in the Z80, and may be used for &lsquo;pointing
at&rsquo; a memory location whilst the byte &lsquo;pointed at&rsquo; is manipulated. Lets rewrite the
whole shooting match, using HL as a pointer, and not get too thorough about the
explanations, to see how you get on.
</p>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../49/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../03/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 50 of 71</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../05/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../71/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/INMC_80_News_4.pdf#page=50" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->