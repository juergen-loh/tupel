<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Scorpio News - April&ndash;June 1987 &ndash; Volume 1. Issue 2.</title>
	<!-- Wed, 01 Jan 2025 19:19:14 GMT -->
	<meta name="keywords" content="Scor&shy;pio News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-30 14:10:13 +0100 (Mo, 30. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">Scor&shy;pio News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">April&ndash;June 1987 &ndash; <span class="nowrap">Volume 1.</span> <span class="nowrap">Issue 2.</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../43/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../11/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 44 of 51</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../13/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../45/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-scorpio-news issue-12 page-44" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 1 column: start --><div>
<p>
not is by whether there is a zero in the block position of the directory entry.
What CP/M doesn&rsquo;t know is which records have been written to the block; this is
left for the programmer to determine.
</p>
<p>
One way of doing this is to use the write random with zero fill function when
writing to a previously unallocated block. To establish, from within a program,
wheather or not a block has bean allocated to a file is to read the desired
record using the read random function. If an error code is returned, you are
trying to read a block that has not been allocated, i.e. CP/M found a zero
in the relevant position in the directory entry. If this happens, you can write
the record with zero fill. If no error code is returned, a block has already
bee allocated which could contain the wanted record. If you previously used
the zero fill function when writing a record to this block, examination of the
contents of the required record will reveal zeros if nothing has been written to
it or data if something has been written.
</p>
<p>
A point worth noting is that the CP/M DIR command will only show a file if a
directory entry exists for extent 0. For this reason, writing one record to
record position 63535, for example, will result in two directory entries being
created; an empty one covering extent 0 and one covering the 128th record of
extent 512.
</p>
<p>
Another observation about random files is the way that PIP.COM handles them (or
more accurately, it doesn&rsquo;t). PIP.COM reads and writes files sequentially and
will therefore get an end of file code from the BDOS when it encounters an
unallocated block in a file. Normally, this would be adequate as most files
indeed end this way. If faced with the example of a file that contains only
record 65535, PIP.COM will only copy the empty directory entry for extent 0.
</p>
<h3>
BIOS date structures
</h3>
<p>
Some questions that still need to be answered are: how does CP/M know how many
block the disk contains, what size are they, how many of them are reserved for
the directory and how does it keep track of which ones are free for use? The
short answer is that the BIOS contains this information but to amswer these
questions in detail, some information about BIOS data structures is required.
</p>
<p>
The disk routines in the BIOS contain data areas and buffer space that will be
used by the BDOS when it needs to have information that is system dependent.
These areas are known as the Disk Parameter Headers (DPH&rsquo;s), Disk Parameter
Blocks (DPB&rsquo;s}, Checksum Vectors and Allocation Vectors. We&rsquo;ll look at these in
the
<a href="../../../13/11/text/#article1">next issue</a>.
</p>
<!-- Linie --><div class="hline" style="width: 20%; margin:auto;  border-top:1px solid #000; padding: 0; margin-top: 3px; margin-bottom: 3px"></div>
<!-- 1 column: end --></div>
<p></p>
<!-- 3 columns: start 2 --><div class="row"><div class="col-sm-8">
<h2 id="article1">
MAP 80 Multi-Purpose Interface (MPI) Review
</h2>
<!-- 3 columns: change --></div><div class="col-sm-4">
<h3 class="author">
by P.D. Coker</h3>
<!-- 3 columns: end --></div></div>
<!-- 1 column: start --><div>
<p>
The user of 80-BUS compatible products has been quite well served for floppy
controllers &ndash; initially by the Gemini
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/gemini/gm809.htm" title="External Link" target="_blank" rel="noreferrer">GM809</a><!-- /External Link -->
,
then the
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/gemini/gm829.htm" title="External Link" target="_blank" rel="noreferrer">GM829</a><!-- /External Link -->
with SASI
support for a Winchester, closely followed by the even more supportive
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/gemini/gm849.htm" title="External Link" target="_blank" rel="noreferrer">GM849</a><!-- /External Link -->
 &ndash;
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/map80/MAP80_VFC.htm" title="External Link: MAP80 VFC" target="_blank" rel="noreferrer">Map 80&rsquo;s VFC</a><!-- /External Link -->
 was also capable of
controlling 5.25&Prime; drives and Nascom/&#x200b;Lucas also
produced an FDC card. So why have Map produced yet another card?
</p>
<p>
The
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/map80/MAP80_MPI.htm" title="External Link: MAP80 MPI" target="_blank" rel="noreferrer">MPI</a><!-- /External Link -->
 is more than just an FDC, catering for the usual range of disk size
with support for a Winchester drive or two. By changing a few links and the
FDC chip one can convert to Nascom FDC compatibility rather then the more usual
Gemini/&#x200b;Map &ldquo;standard&rdquo;. It also has a
<!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0181.pdf" title="External Link: Z80 CTC" target="_blank" rel="noreferrer">CTC</a><!-- /External Link -->
 and two channels of
<!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0183.pdf" title="External Link: Z80 SIO" target="_blank" rel="noreferrer">SIO</a><!-- /External Link -->, one of which
is a standard RS232 and the other conforms to the proposed standard for RS485
(high speed multi-drop interface). The CTC can be used to generate software
selectable baud rates or, if the user wishes, on-board crystals can be used to
generate two frequencies on the MPI board which are independent of the system
clock. It uses 16 ports and, in my experience, can substitute for either of the
two earlier Gemini FDC&rsquo;s &ndash; I have no experience of the most recent Gemini FDC.
</p>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../43/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../11/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 44 of 51</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../13/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../45/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/Scorpio_News_1_2.pdf#page=44" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->