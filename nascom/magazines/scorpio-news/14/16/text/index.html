<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/magazines/scorpio-news/14/16/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Scorpio News - October&ndash;December 1987 &ndash; Volume 1. Issue 4.</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="Scor&shy;pio News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">Scor&shy;pio News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">October&ndash;December 1987 &ndash; <span class="nowrap">Volume 1.</span> <span class="nowrap">Issue 4.</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../15/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../13/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 16 of 55</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../21/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../55/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../17/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-scorpio-news issue-14 page-16" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 1 column: start --><div>
<table class="gemini-qdds-dpb">
<tr><th>Hex</th><th>Dec</th><th></th><th colspan=3>Interpretation</th></tr>
<tr><td>0028H</td><td>40</td><td>;</td><td>SPT</td><td>&ndash;</td><td>CP/M Sectors (128 bytes) per track</td></tr>
<tr><td>05H</td><td>5</td><td>;</td><td>BSH</td><td>&ndash;</td><td>Block Shift Factor</td></tr>
<tr><td>1FH</td><td>31</td><td>;</td><td>BLM</td><td>&ndash;</td><td>Block Mask</td></tr>
<tr><td>03H</td><td>3</td><td>;</td><td>EXM</td><td>&ndash;</td><td>Extent Mask</td></tr>
<tr><td>00C4H</td><td>196</td><td>;</td><td>DSM</td><td>&ndash;</td><td>Disk Size in Blocks-1</td></tr>
<tr><td>007FH</td><td>127</td><td>;</td><td>DRM</td><td>&ndash;</td><td>Number of directory entries-1</td></tr>
<tr><td>80H</td><td></td><td>;</td><td>AL0</td><td>&ndash;</td><td>Reserved directory..</td></tr>
<tr><td>00H</td><td></td><td>;</td><td>AL1</td><td>&ndash;</td><td>..blocks</td></tr>
<tr><td>0020H</td><td>32</td><td>;</td><td>CKS</td><td>&ndash;</td><td>Checksum Size</td></tr>
<tr><td>0002H</td><td>2</td><td>;</td><td>OFF</td><td>&ndash;</td><td>Number of system tracks on disk</td></tr>
</table>
<p>
The abbreviations used are those used by Digital Research in the CP/M&nbsp;2 Alteration Guide.
Decimal value are given where appropriate. Note that CP/M&nbsp;1.4 doesn&rsquo; use disk Parameter Blocks
and that the DPB for CP/M&nbsp;3 contains extra information about physical sector size.
</p>
<p>
CP/M uses the value SPT to calculate the track and sector numbers for a particular disk data
block. The block number and an offset showing where in the block the required record lies need to
be converted to that the appropriate track and sector can be accessed. SPT is determined by the
physical disk format. Gemini in the QDDS format have 10 sectors of 512 bytes on each track. CP/M
uses 128 byte records and so 40 CP/M sectors will fit on a tack. The Gemini SDDS format disks use
a figure of 18 for SPT while the Gems DDDS format uses 80. The latter figure is possible because
of the method of access to the disk for the DDDS format. Some explanation seems in order.
</p>
<h3>
Cylindrical and Track methods of disk access
</h3>
<p>
There are two methods of accessing disks. The first method is to start on side 1 of the disk
and number the tacks from say 0 to 79 (QDDS) then flip sides and call the tracks 80 to 159. Note
that this is just for convenience as the tracks on side 2 of the disk are also physically numbered
0-79. As far as CP/M is concerned, it is seeing a single sided disk with 160 tacks. This is known
as the Track method of accessing a disk.
</p>
<p>
The second method is to have the tracks on both sides of the disk numbered from say 0 to 34
(DDDS) and having filled track 0 on side 1 we flip sides and continue writing to tack 0 of side 2
of the disk. In this case. CP/M thinks it seeing a single sided disk with 35 tracks but the tracks
are twice as long as before (i.e. 80 SPT). Thus method of access is known as the Cylinder method.
You should note that the Gemini Quad density format is a misnomer used by a number of companies. In
realty, it should be called 80 track double density or double density with double track density.
</p>
<h3>
BLM, BSH and EXM
</h3>
<p>
The block mask (BLM) is basically one less than the umber of 128 byte records that will fit in
one block. Our figure of 31 means that 32 records will fit in the block. This enables the BDOS to
calculate the block size as, you will have noticed, it wasn&rsquo;t given in the DPB. If we take the
current record count from the FCB and logically AND it with the block mask, we will obtain a number
in the range 0-31 which tells us where in a block the particular record may be found. Take, for
example, that the current record count is 92 or 01011100. If we AND that figure with 31 or 00011111
we get the result 00011100 or 28. This indicates that the record occupies the 29th (0-31 remember)
record position in the block,
</p>
<p>
The extent mask (EXM) is one less than the umber of extents that may be controlled by one
directory entry. This depends upon the maximum disk size as, if 16 bit values are recorded in the
directory, then each directory entry will refer to half the number of extents than it would if 8 bit
entries were being used. In the case of the QDDS format, this value is 3 which indicates that 4
extents may be recorded in a single directory entry. When used as a mask by ANDing the extent byte
of the directory entry with EXM, we produce a number in the range 0-3 which tell the BDOS which
extent we are referring to in the entry.
</p>
<p>
The next field is the Block Shift Factor (BSH), and is used by the BDOS when converting CP/M
records and extents into block positions in a directory entry and vice versa. BSH is defined as the
logarithm base two of the block size in 128 byte records or, LOG2(BLS/128) where LOG2 represents the
binary logarithm function. That last bit is more or less a direct quote from Digital Research and
probably means as much to you now as it did to me initially.
</p>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../15/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../13/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 16 of 55</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../21/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../55/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../17/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/Scorpio_News_1_4.pdf#page=16" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->