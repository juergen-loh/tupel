<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/magazines/scorpio-news/13/13/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Scorpio News - July&ndash;September 1987 &ndash; Volume 1. Issue 3.</title>
	<!-- Sun, 05 Jan 2025 16:13:18 GMT -->
	<meta name="keywords" content="Scor&shy;pio News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-30 14:10:13 +0100 (Mo, 30. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">Scor&shy;pio News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">July&ndash;September 1987 &ndash; <span class="nowrap">Volume 1.</span> <span class="nowrap">Issue 3.</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../12/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../12/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 13 of 67</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../14/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../67/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../14/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-scorpio-news issue-13 page-13" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 1 column: start --><div>
<p>
The length of the vector is calculated to be (Number of blocks)/8 bytes
long, rounded up to the nearest whole byte. In the Digital Research manuals,
this is quoted as (DSM/8)+1 where DSH is one less than the total number of
blocks contained on the disk. Here is another good reason for having larger
block sizes in that the bigger the block size, the fewer blocks there will be
and the smaller the allocation vector will be (i.e. the BIOS will be smaller and
the TPA, consequently, may be larger).
</p>
<h3>
The CP/M&nbsp;3 DPH
</h3>
<p>
By contrast, a CP/M&nbsp;3 DPH is given below. Digital Research needed to
increase the amount of date provided by the DPH while providing upwards
compatibility with CP/M&nbsp;1.4 and CP/M&nbsp;2.2, Further, they have come to realise
that many systems require to access disks of different formats and that few
systems use a 128 byte sector size on their disks.
</p>
<table class="indent2" style="width: 70%">
<tr><td></td><td>READ</td><td>; Address of sector read routine</td></tr>
<tr><td></td><td>WRITE</td><td>; Address of sector write routine</td></tr>
<tr><td></td><td>LOGIN</td><td>; Address of disk login routine</td></tr>
<tr><td></td><td>INIT</td><td>; Address of disk initialisation routine</td></tr>
<tr><td></td><td>UNIT</td><td>; FDC relative drive code for this drive (Byte)</td></tr>
<tr><td></td><td>TYPE</td><td>; BIOS scratchpad, Current density etc. (Byte)</td></tr>
<tr><td>XDPH:</td><td>XLT</td><td>; Translate table address</td></tr>
<tr><td></td><td>0000</td><td>; 9 bytes scratchpad</td></tr>
<tr><td></td><td>0000</td><td></td></tr>
<tr><td></td><td>0000</td><td></td></tr>
<tr><td></td><td>0000</td><td></td></tr>
<tr><td></td><td>00</td><td></td></tr>
<tr><td></td><td>MF</td><td>; Media Flag (Byte)</td></tr>
<tr><td></td><td>DPB</td><td>; Disk Parameter Block address</td></tr>
<tr><td></td><td>CSV</td><td>; Checksum Vector address</td></tr>
<tr><td></td><td>ALV</td><td>; Allocation Vector address</td></tr>
<tr><td></td><td>DIRBCB</td><td>; Directory Buffer Control Block address</td></tr>
<tr><td></td><td>DTABCB</td><td>; Data Buffer Control Block address</td></tr>
<tr><td></td><td>HASH</td><td>; Hash Table address</td></tr>
<tr><td></td><td>HBANK</td><td>; Hash Table Memory Bank (Byte)</td></tr>
</table>
<p>
The major differences between a CP/M&nbsp;2.2 and CP/M&nbsp;3 DPH are quite obvious
at a glance. The DPB entry is as  described in the section concerning the CP/M
2.2 DPH and will not be repeated here. Under CP/M&nbsp;3, all disk transfers are in
terms of physical disk sectors and the sector translation table, at long last,
now also applies to physical sectors of whatever size. This means that it is no
longer necessary to provide special translation routines in the BIOS for sectors
that are larger than 128 bytes. Note also that the BDOS scratchpad area has
been increased to 9 bytes and that there is no entry for DIRBUF.
</p>
<p>
Additionally, the DPH for CP/M&nbsp;3 has been extended and is now known as the
extended Disk Parameter Header or XDPH. For compatibility with CP/M&nbsp;2.2, the
BIOS still returns the address of the DPH when a drive is logged in and in fact
returns the address of the XLT field of the DPH as with CP/M&nbsp;2.2.
</p>
<p>
Before examining the XDPH fields in detail, a word or two is required about.
the CP/M&nbsp;3 Drive Table.
</p>
<p>
The drive table (@dtbl in the CP/M&nbsp;3 manuals) is a 32 byte area of RAM that
is comprised of 16 addresses. Each entry in the table points to the XDPH for
its associated drive so that the first entry applies to drive A and the last
entry applies to drive P. If no physical drive exists, the table entry is zero
but there must be an entry of some sort for each of the 16 drives that may be
supported. The BDOS can obtain the address of the drive table by calling BIOS
function 22 (ie calling address WBOOT+3FH in the BIOS jump table) but for most
purposes, the BIOS is the main user of the table.
</p>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../12/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../12/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 13 of 67</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../14/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../67/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../14/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/Scorpio_News_1_3.pdf#page=13" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->