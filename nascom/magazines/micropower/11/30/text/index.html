<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Micropower - Volume 1 - Number 1 - August 1981</title>
	<!-- Wed, 01 Jan 2025 19:19:14 GMT -->
	<meta name="keywords" content="Micro&shy;power, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-30 14:10:13 +0100 (Mo, 30. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">Micro&shy;power</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi"><span class="nowrap">Volume 1 &middot;</span> <span class="nowrap">Number 1 &middot;</span> <span class="nowrap">August 1981</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../29/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../-1/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 30 of 33</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../12/-1/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../33/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-micropower issue-11 page-30" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 1 column: start --><div>
<div class="table-responsive">
<table style="width: 100%">
<tr><td>FE 1B</td><td></td><td>CP &pound;1B</td><td>; Is it an &lsquo;escape&rsquo; ?</td></tr>
<tr><td>20 EF</td><td></td><td class="nowrap">JR NZ CPLOOP</td><td>; If not, look for next difference</td></tr>
<tr><td>DF 6A</td><td></td><td>SCAL CRLF</td><td>; End of routine; scroll screen</td></tr>
<tr><td>C9</td><td></td><td>RET</td><td>; and return to monitor</td></tr>
<tr><td>E5</td><td>TAB</td><td>PUSH HL</td><td>; Save current poition of</td></tr>
<tr><td>D5</td><td></td><td>PUSH DE</td><td>; pointers to blocks 1 and 2</td></tr>
<tr><td>01 F0 FF</td><td></td><td>LD BC -16</td><td>; Tabulate from 16 bytes</td></tr>
<tr><td>09</td><td></td><td>ADD HL BC</td><td>; before difference</td></tr>
<tr><td>54</td><td></td><td>LD D H</td><td>; Put this address into DE</td></tr>
<tr><td>5D</td><td></td><td>LD E L</td><td></td></tr>
<tr><td>01 20 00</td><td></td><td>LD BC 32</td><td>; Tabulate to 16 bytes</td></tr>
<tr><td>09</td><td></td><td>ADD HL BC</td><td>; beyond the difference</td></tr>
<tr><td>EB</td><td></td><td>EX DE HL</td><td>; Now get 1st address in HL, 2nd in DE</td></tr>
<tr><td>DF 54</td><td></td><td>SCAL "T</td><td>; Call the tabulate command</td></tr>
<tr><td>D1</td><td></td><td>POP DE</td><td>; Recover pointers</td></tr>
<tr><td>E1</td><td></td><td>POP HL</td><td></td></tr>
<tr><td>C9</td><td></td><td>RET</td><td>; End of subroutine</td></tr>
</table>
</div>
<p>
You will see that the routine is relocatable; to incorporate it into your monitor as
command F you must put the start address at &pound;078C in Nas-Sys&nbsp;3, at &pound;0792 in Nas-Sys&nbsp;1.
To compare blocks of memory starting at &pound;1000 and &pound;2000 you simply
enter F1000 2000. When one of the command letters is entered the first three
hexadecimal values following the letter are held in HL, DE and BC, but if you want
to run the program under the E command, entering EXXXX 1000 2000, you will
have to prefix a routine to pick up the block addresses; for examples:
</p>
<div class="table-responsive">
<table style="width: 100%">
<tr><td>2A 0E 0C</td><td class="nowrap">LD HL (&pound;0C0E)</td><td>; Get block 1 address in HL</td></tr>
<tr><td class="nowrap">ED 5B 10 0C</td><td>LD DE (&pound;0C10)</td><td>; and block 2 in DE</td></tr>
</table>
</div>
<p>
XXXX will be the start address of the modified program. Also the return
instruction at the end of the program (not the one at the end of the subroutine)
should be changed to DF 5B, SCAL MRET. Because this means replacing a
single byte code by a two byte one you will have to move the subroutine down one
byte and change the values in the relative calls. However, you can avoid this by
using C7, RST 0, to get back to the monitor.
</p>
<p>
There are 34 remaining subroutine calls in Nas-Sys&nbsp;1 (DF 5B &ndash; DF 7C). These
cannot be entered as commands from the keyboard, but can all be used in
programs. Nas-Sys&nbsp;3 has 3 extra subroutine calls, including the repeat keyboard
facility.
</p>
<p>
Restart &pound;20, &pound;E7, is used by the breakpoint routine to halt the execution
of a program and display the current state of the processor. When a breakpoint
is entered at address XXXX by entering BXXXX, the address is stored in the
workspace at &pound;0C23. The next execute command saves the code it finds at
XXXX and then, providing that the address entered was not zero, it inserts a
breakpoint restart. When the program arrives at this restart the original code is
replaced, and the contents of the registers are saved in the workspace (from
&pound;0C61 to &pound;0C6C) and displayed on the screen. The program then returns to the
monitor to wait for the next command. If you now enter E without specifying
an address execution continues at the replaced code; once again restart
&pound;E7 will be inserted (because &pound;0C23 still contains address XXXX) and if
</p>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../29/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../-1/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 30 of 33</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../12/-1/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../33/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/Micropower-1-1.pdf#page=32" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->