<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/magazines/micropower/11/12/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Micropower - Volume 1 - Number 1 - August 1981</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="Micro&shy;power, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">Micro&shy;power</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi"><span class="nowrap">Volume 1 &middot;</span> <span class="nowrap">Number 1 &middot;</span> <span class="nowrap">August 1981</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../11/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../-1/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 12 of 33</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../12/-1/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../33/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../13/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-micropower issue-11 page-12" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 1 column: start --><div>
<h1 id="article1">
<span class="uppercase">Printerface</span><br>
<span class="uppercase">The</span> EPSON MX-80 F/T
</h1>
<h2 class="author">
by P. Whittaker
</h2>
<p>
The Epson MX-80 is a nine-wire dot matrix printer which as supplied has a
standard Centronics 8 bit parallel interface. This can be connected directly to a
Nascom <!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0180.pdf" title="External Link: Z80 PIO" target="_blank" rel="noreferrer">PIO</a><!-- /External Link -->, so all that you need to run the printer is the software to interface it to
the output ports. The first requirement is an initialisation routine to set the eight bits
of one port to output lines, for transfer of data to the printer, and to configure
the other port for control of the transfer. The simplest way to synchronise the
machines only needs the &lsquo;busy&rsquo; line from the printer, which is low whenever the
printer is able to receive data, and a strobe signal from the computer, which is
taken low to tell the printer that data is to be read in.
</p>
<p>
In the standard Nascom port A of the PIO is addressed as port 4, and the
control port which specifies its configuration is port 6; similarly, data for port B is
output to port 5, and control words to port 7. A suitable PIO initialisation routine
is thus:&ndash;
</p>
<table class="indent2">
<tr><td class="nowrap" style="padding-right: 4em">LD A, &pound;CF</td><td>Control word to specify mode 3</td></tr>
<tr><td>OUT (6) , A</td><td>Send this to port 6</td></tr>
<tr><td>XOR A</td><td>Next byte sent to port 6 specifies which</td></tr>
<tr><td>OUT (6), A</td><td>lines are outputs (0), which inputs (1)</td></tr>
<tr><td>LD A, &pound;CF</td><td>Now set port B to mode 3</td></tr>
<tr><td>OUT (7), A</td><td></td></tr>
<tr><td>LD A, 1</td><td>Use bit 0 as input (for &lsquo;busy&rsquo; line)</td></tr>
<tr><td>OUT (7), A</td><td></td></tr>
<tr><td>LD A, 2</td><td>Set strobe line high</td></tr>
<tr><td>OUT (5), A</td><td></td></tr>
</table>
<p>
If you are using Nas-sys, the initialisation routine should end by storing the
address of the printer output program at &pound;0C78, so that when the user I/O is
activated with command U output will be routed to the printer. With the earlier
monitors the corresponding address is &pound;C4B, but the output program will have to
call the CRT routine. After a reset the output address will have to be reinserted, but
the PIO will not need to be initialised again.
</p>
<p>
The output routine has to test the &lsquo;busy&rsquo; line before sending a character to
the printer; as soon as this line is low, the character is output at port A and the
strobe line is pulled to zero volts.
</p>
<table>
<tr><td></td><td>PUSH AF</td><td>Save the character to be printed</td></tr>
<tr><td style="padding-right: 4em">TSTO</td><td>IN A, (5)</td><td>Read port B</td></tr>
<tr><td></td><td>RRC A</td><td>Rotate bit 0 to carry flag</td></tr>
<tr><td></td><td class="nowrap" style="padding-right: 4em">JR C, TSTO</td><td>Loop while bit 0 is high</td></tr>
<tr><td></td><td>POP AF</td><td>Recover character</td></tr>
<tr><td></td><td>PUSH AF</td><td>Resave</td></tr>
<tr><td></td><td>OUT (4), A</td><td>Output to printer</td></tr>
<tr><td></td><td>XOR A</td><td>Strobe signal to printer</td></tr>
<tr><td></td><td>OUT (5), A</td><td></td></tr>
<tr><td></td><td>LD A, 2</td><td>Reset strobe high</td></tr>
<tr><td></td><td>OUT (5), A</td><td></td></tr>
<tr><td></td><td>POP AF</td><td>Recover character</td></tr>
<tr><td></td><td>RET</td><td>End of routine</td></tr>
</table>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../11/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../-1/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 12 of 33</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../12/-1/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../33/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../13/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/Micropower-1-1.pdf#page=14" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->