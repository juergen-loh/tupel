<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/magazines/nascom-newsletter/31/03/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Nascom Newsletter - Volume 3 - Number 1 - April 1983</title>
	<!-- Sun, 05 Jan 2025 16:13:18 GMT -->
	<meta name="keywords" content="Nascom News&shy;let&shy;ter, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-30 14:10:13 +0100 (Mo, 30. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">Nascom News&shy;let&shy;ter</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi"><span class="nowrap">Volume 3 &middot;</span> <span class="nowrap">Number 1 &middot;</span> <span class="nowrap">April 1983</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../02/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../-1/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../26/-1/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 3 of 37</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../32/00/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../37/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../04/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-nascom-newsletter issue-31 page-03" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 1 column: start --><div>
<h3>
A bit of a Clock-up
</h3>
<p>
There seems to be a surplus of real-tine Nas-clocks based on
the MM58174. The one I used was designed-in on a
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/gemini/gm816.htm" title="External Link" target="_blank" rel="noreferrer">GM816</a><!-- /External Link -->
but this
one dropped bit 4 at random. Having tried the obvious bus
pull-ups and finger capacitance I still failed to modify its
erractic behaviour. So, I wrote a fault tolerant algorithm.
Basically, instead of reading and checking for an F nibble which
signifies a &lsquo;change since last read&rsquo; situation, I tried reading
twice and comparing. Thus, intended F&rsquo;s and erratic bits both
caused a re-read of all pertinent data.
</p>
<h3>
Broken but not interrupted
</h3>
<p>
With Gemini, the sign of twins, there was no suprise in a
second problem &ndash; a broken IEI track. The symptom to that was a
totally upredictable interrupt vector, not easily distinguished.
By filling an INT RAM block with 10, 10, 11, 11, 12, 12, 13, 13,
etc, then filling all lower RAM with E7 (Break point &ndash; BRKPT)
and the I register with the INT block address, it soon became
obvious that the INT vector was coming from anywhere in the
black including odd addresses. With pull-ups on the data bus,
the vector at (I reg) + FFH and (I reg) + 10H was repeatable and
clearly illegal. A voltmeter along the IEI line confirmed
whether the interrupt was being serviced because it does not
reset until a RETI is executed and because of the breakpoint
this awaited re-execution under Nas-sys. Of course there are
many software hurdles to confuse INT inaction but if you suspect
hardware, the above tricks do not need a scope.
</p>
<p>
The problem also showed how to break a program without
&lsquo;Resetting&rsquo; and re-entering any start up data like registers. In
Basic you can escape but in assembler what can you do? Add fancy
routines which take as long to debug as the program itself. Or,
you could hit the NMI. The result is the same as a Breakpoint &ndash;
the registers are displayed but to continue, only &lsquo;E&rsquo; need to be
typed. To invoke NMI there is a debounced input an pin 6 of the
Nasbus or pin 4 of the ribbon connector to the keyboard. A
&lsquo;push-to-make&rsquo; switch has to earth one of these pins. My Break
switch is physically on the keyboard. Don&rsquo;t hit it twice because
on resuming execution it will lock out. There are cards which
make use of the NMI but if you have got that far you will have
already have figured out this trick. Happy breaking.
</p>
<h3 id="article1">
Nas-Ass you like it
</h3>
<p>
In the Nas-sembler the PHASE pseudo-op appears to be
two-phased! or am I anti-phase? Guess who read DEPH as depth?
(revealing the depth of my mis-understanding). Even after using
DEPH (dephase) properly, it still produced a correct listing but
an object file displaced by the length of the code. The solution
is logical: using PHASE is like using several ORG&rsquo;s which
requires MODE 0, MODE 1 is default and the manual omits
explanation so pencil this one in the margin (under phase
saving). This phase-ability study cannot omit reminding the
reader that MODE 0 object code loads from the assembler only,
using the &lsquo;/&nbsp;&rsquo; command. (Don&rsquo;t forget the space).
</p>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../02/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../-1/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../26/-1/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 3 of 37</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../32/00/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../37/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../04/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/Nascom-Newsletter-3-1.pdf#page=5" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->