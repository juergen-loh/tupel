<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/magazines/80-bus-news/13/43/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus News - July&ndash;October 1982 - Volume 1 - Issue 3</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="80-Bus News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">80-Bus News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">July&ndash;October 1982 &middot; <span class="nowrap">Volume 1 &middot;</span> <span class="nowrap">Issue 3</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../42/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../12/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 43 of 51</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../14/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../44/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-80-bus-news issue-13 page-43" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 1 column: start --><div class="noindent">
<p>
In true text book style I leave it as an exercise to the reader to work out the
timing of the above sections of code!
</p>
<p>
One other point for budding Bios writers to bear in mind &ndash; The most useful (and
accurate) part of the 1797 data sheet are the various flow charts of command
execution. For example the text for Read/&#x200b;Write commands goes&hellip;
</p>
<p>
..Upon receipt of the Type II command, the busy status Bit is set. If the E flag =
1 (this is the normal case) HLD is made active and HLT is sampled after a 15ms
delay......
</p>
<p>
Referring to the flow charts it can be seen that after Busy is set the &ldquo;Ready&rdquo; line
is checked, and only if it is true will the 1797 continue with the command,
otherwise it sets IRQ and terminates. If there has been no disk activity for a
while there will be no Ready signal as the controller will have unloaded the heads
and as a result deselected the drive. Thus, in order to get the Read/&#x200b;Write commands
to execute, the software has to ensure that the drive is selected. (My software
checks the Ready line before all Read/&#x200b;Writes, and issues a Seek command to the
current track if it is found to be false. This activates HLD without actually
stepping the heads at all, and ensures that the drive is selected and the Ready
line represents the true state of the drive. All type I commands, of which SEEK is
one, execute irrespective of the state of the Ready line &ndash; see the flowcharts).
</p>
<p>
Finally a note about hardware mods. These are covered in the manual supplied with
the card, but don&rsquo;t forget that as well as changing a few straps some components
need changing. The frequency of the VCO has to be doubled so capacitor C5 (100pF)
should be changed to 50pF. The loop filter components (C4 and R12) also need to be
changed. Early versions of the manual escaped with a misprint, C4 should be changed
to 0.33uF not 33uF! One thing not noted in the manual is the fact that the &ldquo;Motor
on&rdquo; and &ldquo;Motor start-up delay&rdquo; monostables are still connected through to the Ready
line. These connections are not required for 8&Prime; drives and their presence is an
irritant. Rather than butchering your board to get rid of them I suggest that you
just disconnect one end of resistor R5. This has the effect of making the &ldquo;motor
on&rdquo; time infinite, and the signals from the monostables will no longer interfere
with the Ready signal from the selected drive.
</p>
<p>
Please note I have not written a full double-density Bios for
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/gemini/gm809.htm" title="External Link" target="_blank" rel="noreferrer">GM809</a><!-- /External Link -->
and 8&Prime; drives &ndash;
so don&rsquo;t try ringing up for a copy! (Anyway I&rsquo;ve moved recently). In writing your
own I suggest you follow the guide lines in the CP/M alteration guide.
</p>
<p>
Start with 8&Prime; single density (The only standard format there is!). Most 8&Prime; disks
come ready formatted to this standard so you needn&rsquo;t worry about a format program
initially. In your current environment write and test a keyboard routine and a
screen routine. Next write and debug a disk read routine. If you&rsquo;re using the CP/M
distribution disk at this point ensure it is write protected! Expand this routine
to &ldquo;GETSYS&rdquo; (see the CP/M alteration guide). Now do the write part (using a scratch
disk!) and work up to &ldquo;PUTSYS&rdquo;. Then put the various routines together to form your
Bios. Next use GETSYS to read in the system tracks of the distribution disk. Copy
your Bios (and Boot) (suitably assembled) over the distribution Bios (and Boot) and
use PUTSYS to write the system back to a fresh disk. Then, provided you&rsquo;ve made no
boobs, you&rsquo;re away, and can go on to refine the software in a disk-based
environment.
</p>
<!-- Linie --><div class="hline" style="width: 20%; margin:auto;  border-top:1px solid #000; padding: 0; margin-top: 3px; margin-bottom: 3px"></div>
<!-- 1 column: end --></div>
<br>
<!-- 1 column: start --><div>
<h2 id="article1">
<u class="double uppercase">Would You Believe It?</u>
</h2>
<p>
Dear Dealer, The fault on my Nascom occurs as follows. As you will
see, the display is stable with some degree of flickery as the CPU works.
Hitting reset, some characters change, but some stay exactly the same all the
time. Now and then the computer enters the HALT state.
</p>
<p>
Besides this, the machine is dead.
<span style="float: right">Anon.</span>
</p>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../42/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../12/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 43 of 51</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../14/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../44/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/80bus_news_13.pdf#page=43" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->