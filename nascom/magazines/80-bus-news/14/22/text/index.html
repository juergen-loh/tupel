<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/magazines/80-bus-news/14/22/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus News - November&ndash;December 1982 - Volume 1 - Issue 4</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="80-Bus News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">80-Bus News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">November&ndash;December 1982 &middot; <span class="nowrap">Volume 1 &middot;</span> <span class="nowrap">Issue 4</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../21/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../13/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 22 of 51</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../21/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../23/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-80-bus-news issue-14 page-22" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 1 column: start --><div>
<p class="continued">
change. Since this bug may also be present in other versions (with different
addresses) the code which should be changed is just after the prompt for the tape
number and the three SCALs to process the answer and get it into HL. The code
should read:
</p>
<div class="indent">
<img class="img-fluid" src="../../Image-22-1.png" alt="" width="376" height="152">
</div>
<p>
Another undesirable feature (alright then, a bug) in TOS occurs if any
errors occur when using TOS under program control. Since errors can occur at
several &lsquo;depths&rsquo; in TOS (e.g. an error in the number of arguments, no tape
present, a read/&#x200b;write error, etc.) there could be problems in knowing how many
return addresses should be &lsquo;thrown away&rsquo; so that TOS can do a quick exit. TOS
gets round this the easy way by warm-starting itself whenever errors occur. No
problem when using TOS normally (i.e. from the keyboard) but when using TOS under
program control, it means that control remains in TOS. No way to get back to your
program. You can&rsquo;t just type &ldquo;W&rdquo; or &ldquo;R&rdquo; (Write or Read) because the arguments are
obligatory. You can&rsquo;t return to NAS&shy;SYS to see what they are because &lsquo;N&rsquo;
cold-starts NAS&shy;SYS, and this resets the workspace. Unless you have designed your
program carefully, you have lost all the data your program just spent a long time
building. It would be far better to return, say, to the outer level of the
Read/&#x200b;Write routines or whatever, and then return to the caller if an error is
detected. The latest versions of TOS have a &lsquo;Vectored Error handling function&rsquo;
which I presume means that control is passed through a location in RAM to a
(user) error routine.
</p>
<p>
The Write command (and B &amp; P) automatically verifies each block after it
has been written by rewinding to the start of the block and then &lsquo;reading&rsquo; the
block (but not loading it into RAM) and checking the CRC character at the end. If
an error occurs, the block is rewritten, and if the error persists, the command
is aborted &amp; an error message is displayed. A drawback is that the catalogue will
still contain an &lsquo;entry&rsquo; for the erroneous file, which will have to be deleted.
</p>
<p>
The I command is used to initialise a tape, and all it does is write a
blank directory to the start of the tape. TOS automatically checks to see whether
the tape has already been initialised, and displays an error message if it has.
No command has been provided to delete the catalogue (e.g. so that it may be
reinitialised with another tape number). This is deliberate, as it avoids the
accidental &lsquo;erasure&rsquo; of a whole side. It can be done, however, by outputting the
relevant commands to the ports, and this method is given in the manual. TOS also
remembers where it is on a tape, so when reading more that one file off a tape,
there is no need to read in the catalogue both times (or even the once). TOS
cannot, however detect if a tape has been removed &amp; replaced with another one.
Thus the &lsquo;R&rsquo; command (no arguments) is best used immediately after inserting a
cassette.
</p>
<p>
TOS is written for Nascom systems using NAS&shy;SYS monitors (sorry, all those
<span class="uppercase">Nasbug</span> fans) and automatically detects whether NAS&shy;SYS&nbsp;1 or 3 is in use. Much use
is made of NAS&shy;SYS routines but not every call is made in the Approved Manner. The
offenders are the call to Parse and to Errm. I don&rsquo;t see why Errm is called (when
an invalid command is entered) instead of the address of TOS&rsquo;s own error routine
(which calls ERRM anyway in the Approved Manner). These routines are called by
reflections in RAM, so should your NAS&shy;SYS be different (e.g. NAS&shy;SYS 4 if &amp; when,
</p>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../21/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../13/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 22 of 51</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../21/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../23/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/80bus_news_14.pdf#page=22" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->