<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus News - May&ndash;June 1983 - Volume 2 - Issue 3</title>
	<!-- Sun, 15 Dec 2024 13:31:40 GMT -->
	<meta name="keywords" content="80-Bus News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-15 14:31:39 +0100 (So, 15. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">80-Bus News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">May&ndash;June 1983 &middot; <span class="nowrap">Volume 2 &middot;</span> <span class="nowrap">Issue 3</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../29/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../22/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 30 of 59</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../24/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../59/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-80-bus-news issue-23 page-30" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<div class="DisAssemblyRomBasic"><!-- 1 column: start --><div>
<table>
<colgroup><col><col><col><col></colgroup>

<tr><th colspan=3><p>The workings of <span class="uppercase">Nascom</span> ROM BASIC Ver 4.7</p></th><th><p>PAGE 6</p></th></tr>

<tr><td><p>FPREG</p></td><td><p>10E4</p></td><td colspan=2><p>

<p>Floating point register.<br>
This is a floating point number for the current value. It is
a four byte store using 24 bit normalised sign and magnitude
representation for the mantissa and excess 128 representation
for the exponent of two.<br>
Example of the number 35.25 in floating point:&ndash;<br><br></p>

<table class=fpta>
<colgroup><col><col><col></colgroup>
<tr><td>35.25 in binary is</td><td colspan=2>100011.01</td></tr>
<tr><td>Which is the same as</td><td colspan=2>100011.01 *2^ 00000000</td></tr>
<tr><td colspan=3>&#x200b;</td></tr>

<tr><td colspan=3>The binary point is moved so that it precedes the first &ldquo;1&rdquo;</td></tr>
<tr><td>This gives</td><td colspan=2>.10001101</td></tr>
<tr><td colspan=3>&#x200b;</td></tr>

<tr><td colspan=3>The point was moved left 6 times dividing the number by 2^6 so
6 must be added to the exponent to re-multiply by 2^6.</td></tr>
<tr><td>This gives</td><td colspan=2>.10001101 *2^ 00000110</td></tr>
<tr><td colspan=3>&#x200b;</td></tr>

<tr><td colspan=3>As the bit after the point is ALWAYS &ldquo;1&rdquo; this bit can be used
to store the sign of the number &ldquo;0&rdquo; for +ve, &ldquo;1&rdquo; for -ve</td></tr>
<tr><td>So +35.25 is stored as</td><td colspan=2>.00001101 * 2 ^ 00000110</td></tr>
<tr><td>Which in 24 bits is</td><td colspan=2>.000011010000000000000000 *2^ 00000110</td></tr>
<tr><td colspan=3>&#x200b;</td></tr>

<tr><td colspan=3>128 is added to the exponent so that overflows and underflows
can be more easily detected.</td></tr>

<tr><td colspan=3>So the whole number in binary is:&ndash;</td></tr>
<tr><td></td><td colspan=2>

<tr><td style="vertical-align:bottom">Which is</td><td colspan=2>

<table class=rbfp>
<tr><td>00&#x200b;00</td><td>11&#x200b;01</td><td>00&#x200b;00</td><td>00&#x200b;00</td><td>00&#x200b;00</td><td>00&#x200b;00</td><td>10&#x200b;00</td><td>01&#x200b;10</td><td></td></tr>
<tr><td>0</td><td>D</td><td>0</td><td>0</td><td>0</td><td>0</td><td>8</td><td>6</td><td>HEX</td></tr>
</table>

</td></tr>
<tr><td colspan=3>The bytes of the mantissa are stored in reverse order.</td></tr>
<tr><td colspan=2>This gives the value for +35.25 as</td><td>00 00 0D 86</td></tr>
<tr><td colspan=2>And &minus;35.25 would be stored as</td><td>00 00 8D 86</td></tr>
<tr><td colspan=3>&#x200b;</td></tr>

</table>

</td></tr>
<tr><td><p>SGNRES</p></td><td><p>1088</p></td><td colspan=2><p>
Sign of result.<br>
This contains the sign of the result for multiplication. Both
values to be multiplied are tested and if their signs are
different then the product will be negative otherwise it will
be positive. The sign for the product is stored here so that
it can be tested after to make the result correct.
</p></td></tr>
<tr><td><p>PBUFF</p></td><td><p>10E9</p></td><td colspan=2><p>
Number print buffer.<br>
When a floating point number has to be converted into ASCII
for PRINT or STRS the ASCII number is built up in this buffer
by NUMASC so that it can be output or assigned to a string.
</p></td></tr>
<tr><td><p>NULVAL</p></td><td><p>10F6</p></td><td colspan=2><p>
Multiply value.<br>
This contains the 24 bit multiplier because there are not
enough registers to hold the multiplier, multiplicand and
product all at the same time.
</p></td></tr>
<tr><td><p>PROGST</p></td><td><p>10F9</p></td><td colspan=2><p>
Program start.<br>
This is the byte before the first line in the program. It must
be zero to tell the execution driver that the next (actually
the first) line is to be executed.
</p></td></tr>
<!--
<tr><td><p></p></td><td><p></p></td><td colspan=2><p>
</p></td></tr>
-->
</table>
<!-- Linie --><div class="hline" style="width: 100%; margin:auto;  border-top:2px solid #000; padding: 0; margin-top: 3px; margin-bottom: 3px"></div>
<table>
<colgroup><col><col><col><col></colgroup>

<tr><th colspan=3><p>The workings of <span class="uppercase">Nascom</span> ROM BASIC Ver 4.7</p></th><th><p>PAGE 7</p></th></tr>

<tr><td colspan=2></td><td colspan=2>
<p>******** How a program is stored in memory ********</p>
</td></tr>

<tr><td><p></p></td><td><p></p></td><td colspan=2><p>
Example:&ndash; The program:&ndash;</p>
<pre>
  10 FOR A=1 TO 5:PRINT A,SQR(1):NEXT A
  20 END
</pre>
<p>is in memory, it would look like this:&ndash;
</p></td></tr>
<tr><td><p></p></td><td><p></p></td><td colspan=2>

<table>
<tr><td>PROGND</td><td>111C	</td><td>Pointer to byte after program<br><br></td></tr>
<tr><td>10FA</td><td>15 11	</td><td>Pointer to next line (1115)</td></tr>
<tr><td>10FC</td><td>0A 00	</td><td>Line number (10)</td></tr>
<tr><td>10FE</td><td>81		</td><td>FOR token</td></tr>
<tr><td>10FF</td><td>20		</td><td>Space</td></tr>
<tr><td>1100</td><td>41		</td><td>A</td></tr>
<tr><td>1101</td><td>B4		</td><td>= token</td></tr>
<tr><td>1102</td><td>31		</td><td>1</td></tr>
<tr><td>1103</td><td>20		</td><td>Space</td></tr>
<tr><td>1104</td><td>A6		</td><td>TO token</td></tr>
<tr><td>1105</td><td>20		</td><td>Space</td></tr>
<tr><td>1106</td><td>35		</td><td>5</td></tr>
<tr><td>1107</td><td>3A		</td><td>:</td></tr>
<tr><td>1108</td><td>9E		</td><td>PRINT token</td></tr>
<tr><td>1109</td><td>20		</td><td>Space</td></tr>
<tr><td>110A</td><td>41		</td><td>A</td></tr>
<tr><td>110B</td><td>2C		</td><td>,</td></tr>
<tr><td>110C</td><td>BA		</td><td>SQR token</td></tr>
<tr><td>110D</td><td>28		</td><td>(</td></tr>
<tr><td>110E</td><td>41		</td><td>A</td></tr>
<tr><td>110F</td><td>29		</td><td>)</td></tr>
<tr><td>1110</td><td>3A		</td><td>:</td></tr>
<tr><td>1111</td><td>82		</td><td>NEXT token</td></tr>
<tr><td>1112</td><td>20		</td><td>Space</td></tr>
<tr><td>1113</td><td>41		</td><td>A</td></tr>
<tr><td>1114</td><td>00		</td><td>End of line</td></tr>
<tr><td>1115</td><td>1A 11	</td><td>Pointer to next line (111A)</td></tr>
<tr><td>1117</td><td>14 00	</td><td>Line number (20)</td></tr>
<tr><td>1118</td><td>80		</td><td>END token</td></tr>
<tr><td>1119</td><td>00		</td><td>End of line</td></tr>
<tr><td>111A</td><td>00 00	</td><td>Pointer to next line (0000 = End of program)</td></tr>
<tr><td>111C</td><td colspan=2></td></tr>
</table>

</td></tr>

</table>
<!-- 1 column: end --></div>
</div>
</div>
</div>
<p>
	NASCOM ROM BASIC dis-assembled is available in <a href="../../../files/8kbasic.asm">ASM</a>
	and <a href="../../../files/8kbasic.lst">LST</a> file format.
</p>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../29/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../22/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 30 of 59</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../24/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../59/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/80bus_news_23.pdf#page=30" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->