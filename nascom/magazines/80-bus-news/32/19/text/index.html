<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-06-16 15:50:29 +0200 (So, 16. Jun 2024) $ -->

	<title>80-Bus News - March&ndash;April 1984 - Volume 3 - Issue 2</title>
	<!-- Sun, 30 Jun 2024 16:39:01 GMT -->
	<meta name="keywords" content="80-Bus News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-06-30 12:05:40 +0200 (So, 30. Jun 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">80-Bus News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">March&ndash;April 1984 &middot; <span class="nowrap">Volume 3 &middot;</span> <span class="nowrap">Issue 2</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../18/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="fas fa-fast-backward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../31/01/text/" title="Previous issue"><span class="fas fa-backward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 19 of 51</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../33/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../20/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-80-bus-news issue-32 page-19" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 2() columns: start --><div class="row"><div class="col-sm-6">
<h2 id="article1">
<u>A <span class="uppercase">Polydos</span> Version Of NasPen</u>
</h2>
<!-- 2 columns: change --></div><div class="col-sm-6">
<h3 class="author">
<u>By Alan Melia</u>
</h3>
<!-- 2 columns: end --></div></div>
<!-- 1 column: start --><div>
<p>
Because many Nascom users, who, like myself, started with cassette
systems, would have bought and installed NASPEN, it was felt that a <span class="uppercase">Polydos</span>
compatible version might be more acceptable than a change to say <span class="uppercase">Polytext</span>.
Personally, being mean, and having spent my pocket money for this month, I
wanted to get my cassette text files onto this excellent disk operating
system. The advantage of <span class="uppercase">Polydos</span> is a good manual, with some very useful
examples of how to use the PolyDos subroutines, and a relatively simple guide
to producing purpose-built file-handling overlays. Armed with these tools and
a trusty Nasdis listing of my Naspen, I set to work to try and produce a
usable system.
</p>
<p>
First Naspen was copied to disk, and the ROM was removed to leave RAM at
B000 to BFFF. A careful investigation of the Nasdis listing showed that the
NASPEN command decoding table started at B999H. The table consisted of a three
byte entry for each command, the table being terminated by a catch-all jump to
a &lsquo;command error&rsquo; subroutine.The first byte is the ASCII value of the command
symbol,&#x200b;the second and third give the address of the routine to execute the
command (bytes reversed, of course). I determined to reallocate the &ldquo;R&rdquo; and
&ldquo;W&rdquo; commands to the new disk routines to retain some compatibility with the
original usage. I further decided that I required to keep the cassette
routines to retain compatibility with several other local &lsquo;Nascomaniacs&rsquo;. A
skim through the handbook for Naspen will confuse by offering duplicate
commands for cursor-up and cursor-down, &ldquo;+ &amp; &ndash;&rdquo; as well as the normal cursor
keys. Thus I determined to replace the &ldquo;+ &amp; &ndash;&rdquo; with commands &ldquo;r &amp; w&rdquo; for
cassette read and write, and altered the &ldquo;R &amp; W&rdquo; entries in the table to point
to the new disk routines in the overlay. This means that only a simple patch
is required, rather than a full re-assembly job. A further modification that
was found necessary was to re-program the &ldquo;return to Nas-sys&rdquo;. The original
Naspen return reinitialises Naspen by jumping to 0000H rather than that well-loved
line, DF 5B. Unfortunately it was not sufficient to add the &ldquo;DF 5B&rdquo;
code, as the rentry to PolyDos leaves the keyboard in &ldquo;typewriter&rdquo; mode. So a
few more bytes of code were required to reset &ldquo;K0&rdquo;. First, a seperate file
was written and debugged. This file contained the code nessessary to access
the PolyDos routines, and had to be loaded before Naspen was called. The ploy
worked quite well, but flushed with success, I decided that it would be far
tidier if the extra file was loaded automatically when Naspen was called. The
proceedure used was to rename Naspen with an extension &ldquo;NP&rdquo; instead of the
more usual &ldquo;GO&rdquo; machine-code extension. An overlay routine was then written
and called &ldquo;NPfh.OV&rdquo;. The overlay program is loaded and executed automatically
when you type &ldquo;NASPEN&rdquo;.The overlay loads NASPEN at B800 and the extension file
&ldquo;NASPEX&rdquo; at B000. It then initialises the printer and cold-starts NASPEN.
The sequence of operations is then as follows:&ndash;
</p>
<ol class="parenthesis">
<li>
Call Naspen by typing &lsquo;NASPEN&rsquo; after the &ldquo;S&rdquo;prompt
</li>
<li>
PolyDos sees that NASPEN has the extension &ldquo;NP&rdquo; so it loads the file
&lsquo;NPfh.OV&rsquo; into the overlay area (C800 onwards), and executes it.
</li>
<li>
NPfh.OV loads the NASPEN file and the extensions &ldquo;NASPEX.GO&rdquo; and jumps to
the start of NASPEN at B800H. If this confuses, read the <span class="uppercase">Polydos</span> manual
on overlay file handlers.
</li>
</ol>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../18/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="fas fa-fast-backward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../31/01/text/" title="Previous issue"><span class="fas fa-backward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 19 of 51</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../33/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../51/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../20/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/80bus_news_32.pdf#page=19" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->