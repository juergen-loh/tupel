<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus News - July&ndash;August 1984 - Volume 3 - Issue 4</title>
	<!-- Sun, 15 Dec 2024 13:31:40 GMT -->
	<meta name="keywords" content="80-Bus News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-15 14:31:39 +0100 (So, 15. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">80-Bus News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">July&ndash;August 1984 &middot; <span class="nowrap">Volume 3 &middot;</span> <span class="nowrap">Issue 4</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../30/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../33/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 31 of 43</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../35/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../43/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../32/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-80-bus-news issue-34 page-31" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 2() columns: start --><div class="row"><div class="col-sm-6">
<h2 id="article1">
<u>Polydos File Update</u>
</h2>
<!-- 2 columns: change --></div><div class="col-sm-6">
<h3 class="author">
by M. J. R. Gibbs
</h3>
<!-- 2 columns: end --></div></div>
<!-- 1 column: start --><div>
<p>
This is a program for directly updating files on disk for a Gemini
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/gemini/gm809.htm" title="External Link" target="_blank" rel="noreferrer">GM809</a><!-- /External Link -->/&#x200b;<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/gemini/gm815.htm" title="External Link" target="_blank" rel="noreferrer">GM815</a><!-- /External Link -->
system with Polydos 2.0.
</p>
<p>
This allows the user to update copies of a file stored on several disks
without having to enter all the normal commands which can cause problems
especialy if you are like me and sometimes forget to use the &lsquo;NEW&rsquo; command (I
have spent many hours trying to sort out the chaos that this causes). The
required program/&#x200b;data is loaded into RAM between &pound;1000 and &pound;C000 either by
using the Polydos &lsquo;Read&rsquo; command or by Assembling the program directly into
RAM.
</p>
<p>
This program is loaded into RAM at &pound;0C80 and executed at &pound;0C80, the user
is asked for the file name, file extension and the RAM location for the new
code. The Program asks you to insert the disks and press the &lsquo;Enter&rsquo; key, the
disk directory is read and the filename checked and, should it exist, the file
is replaced with the new version. The old file is completely overwritten and
this means that the number of sectors used by the old file are replaced by the
program stored in RAM. The user should be careful in ensuring that the new
version is not going to require more sectors on disk than the original
otherwise the whole of the new program will not be saved. I normally save
programs that are common to several disks with a few sectors more than
required to allow for expansion, this does not normally cause a problem as I
have found that the maximum number of fifty files means that the disk is not
often full before the directory is used up. This program can update a disk
with a full directory because the directory is left unaltered.
</p>
<p>
Should the program not exist on the disk inserted a suitable message is
printed out telling the user and the disk is left unaltered.
</p>
<p>
The Program informs the user of the start disk sector and the number of
sectors updated and the RAM location used for the update. Should there be any
disk errors then a message is printed out and the program repeats the inital
menu asking the user to insert a new disk. The one thing that I have found is
that it is easy to forget to remove any write protect tabs and this does not
cause a problem as you simply take the disk out remove the tab and reinsert
the disk (do not forget to replace the tab afterwards).
</p>
<p>
A word of warning when testing this program especially when entering it
from the dump listing, which is always prone to errors, you are strongly
advised to test it on a copy of an existing disk because it can overwrite
irreplaceable portions of disk if anything goes wrong.
</p>
<p class="noindent">
I suggest that you proceed as follows:&ndash;
</p>
<ol class="parenthesis">
<li>
Enter the program and save it on disk using Polydos. Use the &lsquo;Read&rsquo;
routine to load a file from the disk to say &pound;1000 in RAM.
</li>
<li>
Examine and make a note of the number of sectors that this file uses.
</li>
<li>
Use SZAP to examine the next file on the disk and make a note of the
first few bytes.
</li>
<li>
Change the first few bytes of the file loaded into RAM with the NAS-SYS
&lsquo;M&rsquo; (modify command).
</li>
<li>
Run this program to update the disk and check the user information for
the correct sector location, number of sectors and RAM location.
</li>
<li>
Use SZAP to verify that the original file has been updated correctly.
Also that the file following is not corrupted.
</li>
</ol>
<p>
Below is a full Assembly listing, a sorted symbol table and a dump of the
program using a modified version of the
<a href="../../../12/39/text/#article1">disk dump</a>
published in
<a href="../../../12/01/text/#page">Vol.1 iss. 2 of 80-BUS NEWS</a>
(the numbers on the left hand side are the RAM locations).
</p>
<!-- 1 column: end --></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../30/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../33/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 31 of 43</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../35/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../43/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../32/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/80bus_news_34.pdf#page=31" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->