<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/magazines/80-bus-news/42/20/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus News - Summer 1985 - Volume 4 - Issue 2</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="80-Bus News, Nascom Computer, Nascom 1, Nascom 2">
	<link rel="stylesheet" type="text/css" href="../../../style.css">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von JÃ¼rgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
<tr>
<td>
<h1 class="h1Navi">80-Bus News</h1>
</td>
<td>&nbsp;&nbsp;</td>
<td style="vertical-align:top">
<h2 class="h2Navi">Summer 1985 &middot; <span class="nowrap">Volume 4 &middot;</span> <span class="nowrap">Issue 2</span></h2>
</td>
</tr>
</table>
<!-- Navigation top -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../19/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../41/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 20 of 31</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../scorpio-news/11/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../21/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- The page -->
<div class="row" lang="en">
<div class="col-sm-12 mag-80-bus-news issue-42 page-20" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;" lang="en" id="page">
<!-- 2(2) columns: start --><div><div class="style-multi-column-2 hyphenate 2">
<h1 id="article1" class="uppercase">
Shock Horror Headline
</h1>
<h3 class="author" style="text-align: left">
by David Hunt
</h3>
<p>
In this set of DRH ramblings he looks at a utility
called LU, a deadly little program called VIRUS, the new Gemini
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/gemini/gm870.htm" title="External Link" target="_blank" rel="noreferrer">GM870</a><!-- /External Link -->
 80-BUS MODEM board and its
software, the new UKM720 program, and Gemini&rsquo;s
latest BIOS, version 3.2.
</p>
<h4 id="article2">
DH disk storage crisis
</h4>
<p>
Having sat down to write this sessions&rsquo; pile of
disjointed bits, I&rsquo;d done about a page&rsquo;s worth and
for some reason decided to save it.
</p>
<pre>
ERROR Destination disk full
</pre>
<p>
Well perhaps it&rsquo;s not a crisis, I didn&rsquo;t lose anything
and I&rsquo;ve plenty of secondhand disks knocking
about, but I had a look at the full disk anyway, sure
enough 784K with 4K free, and not a .BAK file in
sight. Oh well, start a new disk; format it and label
it. The label, -80BUS4&nbsp;??? Did that mean I&rsquo;d
completely filled three disks? It sure did! Almost
2.4M bytes worth, and that&rsquo;s exclusively this mag
and its predecessors, and then only what I&rsquo;ve
bothered to keep. Just as an exercise &mdash; a word
count; I put everything into one big library using
LU on the winnie, and then set SPELGARD the
problem of counting the words whilst I went for a
bite [Ed. &mdash; byte&nbsp;?] to eat. Well of course,
SPELGARD gave up at 65000 odd words, not
surprising really, and I learned for the first time that
SPELGARD has a 16 bit word counter. Well by now
I really did want to know how many words had
been written, so I truncated an average file to
exactly 8K using a debugger and fed that to
SPELGARD, then multiplied the result by 295. The
result, I know you&rsquo;re all dying to know &ndash; just over
300,000 words. Was it really that much? Well a
re-count on another file came out about the same,
so I guess it must be something like that. Just as
well 80-BUS doesn&rsquo;t pay me at a commercial word
rate, I&rsquo;d be quite rich and 80-BUS would be broke.
</p>
<p>
I mentioned LU; well this program has been lurking
around the CP/M libraries for some while now, but
I only came across it a few months ago. It&rsquo;s
marvelous for archive stuff, you know, the sort of
thing you are loath to erase, but at the same time
don&rsquo;t ever intend to look at again whilst begrudging
the disk space it takes up. In fact your typical DH
80-BUS article. No in fact DH type articles are too
long and rambling to make much advantage of
stuffing them into a library, the only advantage
being in this case, keeping bits of things together.
It&rsquo;s much more useful at archiving lots of little
things, letters, dBASE .CMD files and the like.
</p>
<p>
As you know, CP/M allocates space to files in
blocks. In the good old days of single density 8&Prime;
disks with only about 240K of usable capacity, life
was easy. CP/M builds a map of where things are
put on the disk, it&rsquo;s part of the directory entry for
the file, and saved along with the name. That&rsquo;s
what file control blocks (FCBs) are all about, but
then if you know about file control blocks, you
know about directory allocation blocks. Anyway,
the disk is carved up into nice small chunks, and
allocated an 8 bit number. Now there can only be
256 discrete 8 bit numbers, so the maximum
number of blocks is 256. If the disk has a capacity
of 240K, 240 1K blocks can be allocated. But like
Topsy, disks growed, and double sided double
density 35 track disk formats came along. These
had a capacity of about 340K, and you can&rsquo;t have
340 1K blocks, so the block size was doubled, 170
2K blocks. Then someone increased the number of
tracks available by halving the track pitch, and 80
track disks appeared with a capacity of 788K. So
now we have 197 4K blocks. Yes I know I&rsquo;ve dodged
the issue of single sided 80 track disks and the
&lsquo;double byte&rsquo; block allocation numbers used in
winnies, but the fact remains that on the Gemini
high capacity disks systems, we have 197 4K
blocks.
</p>
<p>
The snag, you ask? Well, it doesn&rsquo;t matter if a
program is two bytes long, it&rsquo;s still allocated 4K of
disk space, and so appears as a 4K file. More
typically, letters and dBASE .CMD files are usually
about 1K long, so 3K goes wasted. LU gets round
this rather neatly. It constructs one file called a
library file from a number of files, adding them end
to end, and then puts an internal directory into the
file. Yes, LU also has an internal block size, but it&rsquo;s
only 128 bytes, so not much space is lost.
</p>
<p>
Of course LU must have snags, the biggest is that
once a file is in the library you can&rsquo;t execute it or
even look at it, it has to be extracted from the
library before you can do anything with it. Having
said it&rsquo;s for archive stuff anyway, this isn&rsquo;t too
much of a limitation. More annoying perhaps is it&rsquo;s
quirky syntax, which is also rather unhelpful and
unforgiving.
</p>
<p>
Having said that you can&rsquo;t do anything with a file in
the library without extracting it, LU came with a
couple of utilities, LDIR, so you quickly look at the
file names in the internal directory, and LRUN so
you can execute a xxx.COM file from within the
library. Unfortunately if a program is executed
from the library using LRUN, the program still can&rsquo;t
access any overlays it might want, they&rsquo;re still
buried in the library. The one utility that should
have been there but wasn&rsquo;t was LTYPE, as much of
my library stuff is ASCII files. Still perhaps there
wasn&rsquo;t one or it had got lost or something. Or
worse still, someone out there thinks DH should
write one &ndash; no way!
</p>
<p>
I made a major mistake when I first got LU. I played
with it a bit and thought it would come in useful
</p>
<!-- 2 columns: end --></div></div>

</div>
</div>
<!-- /The page -->
<!-- Navigation bottom -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../19/text/" title="Previous page"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="First page"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../41/01/text/" title="Previous issue"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Table of Contents">Page 20 of 31</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../scorpio-news/11/01/text/" title="Next issue"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Last page"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../21/text/" title="Next page"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<a class="sm-fill nav-link" href="../">Graphic</a>
		<a class="sm-fill nav-link" href="https://80bus.co.uk.mirror.jloh.de/publications/magazines/80bus_news_42.pdf#page=20" target="_blank">PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Privacy Statement</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Imprint</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->