<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/83/07/23/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus Journal - Juli/Aug. 1983 - Ausgabe 7/8</title>
	<!-- Sun, 05 Jan 2025 16:13:18 GMT -->
	<meta name="keywords" content="80-Bus Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-30 14:10:13 +0100 (Mo, 30. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">80-Bus Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">Juli/Aug. 1983 &middot;</span> <span class="nowrap">Ausgabe 7/8</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../22/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/06/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 23 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/09/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../24/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<h1 id="article1">
CASMON
</h1>
<h3>
<span class="uppercase">Von Constantin Olbrich</span>
</h3>
<h4>
<u>Implementierungshinweise für Casmon 1.3</u>
</h4>
<p>
Für den Betrieb des Casmon 1.3 wird ein Hifi-Recorder mit elektrischen
Tipptasten benötigt. Heutzutage haben alle Hifi-Recorder eine
automatische Endabschaltung, die über einen Hall-Generator, optoel.
Sensor oder über eine mech. Vorrichtung gesteuert wird. In meinem Fall
erzeugt der Hall-Generator Impulse, die der Umdrehungszahl des
Wickeltellers entsprechen. Beim Ausbleiben dieser Impulse (Monoflop
Fktn) liegt also ein Störungsfall (Bandende oder Salat) vor, und eine
&sbquo;Stop&lsquo; Funktion wird ausgeführt.
</p>
<p>
Der hier verwendete Recorder, ein
<!-- External Link --><a href="https://www.radiomuseum.org/r/technics_stereo_cassette_deck_rs_m_25.html" title="Externer Link: Technics RS-M250" target="_blank" rel="noreferrer">M&nbsp;250</a><!-- /External Link -->
von
<!-- External Link --><a href="https://de.wikipedia.org/wiki/Technics" title="Externer Link: Technics" target="_blank" rel="noreferrer">Techniks</a><!-- /External Link -->
für ca. 650&nbsp;DM,
dient mir primär zur Musikwiedergabe und nur sekundär als
Massenspeicher. Ein für dieses Programm passender Recorder kostet
mindestens 350&nbsp;DM und liegt somit in der Nähe der Floppys. Dieser
Beitrag ist also hauptsächlich für die Anwender, die bereits einen
Hifi-Recorder oben genannter Spezifikation haben, gedacht.
</p>
<p>
Parallel zu
den Tasten der Fernbedienung liegen die Pins der <!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0180.pdf" title="Externer Link: Z80 PIO" target="_blank" rel="noreferrer">Pio</a><!-- /External Link -->
 Port B (Bit 0-5).
Bit 7 des Ports B ist mit dem Ausgang des Hall-Generators (zusätzlich
integrierter Schmitt Trigger in MOS) verbunden.
</p>
<p>
Der Port B ist ständig
als Input definiert, nur im Fall eines Rechnerbefehls für den Recorder
werden die entsprechenden Bits kurz als Ausgang geschaltet. Ich wollte
so über die normale Recorder Tastatur Interrupts erzeugen, damit das
rechnerinterne Zählwerk die Information erhält, ob&rsquo;s vorwärts oder
rückwärts weitergeht.
</p>
<p>
Die manuelle Steuerung des Recorders ist also nicht unterstützt, dazu
müßte man die Zählwerksimpulse differenzieren, um die Interrupts nicht
zu sperren (mit Monoflop).
</p>
<p>
Der Hall-Generator liefert in meinem Fall
etwa die dreifache Anzahl von Impulsen für ein normales, mechanisches
Zählwerksinkrement. Die Periodendauer der Impulse ist unkritisch.
</p>
<p>
Wer einen anderen Recorder verwendet, soll unbedingt zunächst nur die
Laufwerksfunktionen (Prüfung der Verbindung und Verzögerung) testen
(<a href="../../25/text/#article1">Tabelle 1</a>).
Der Recorder muß von der Betriebsart Pause durch &sbquo;Record&lsquo;
in &sbquo;Pause Record&lsquo; schaltbar sein. Weiter gehts dann mit &sbquo;Play&lsquo; für die
Aufnahme. Die Interruptroutine zeigt den aktuellen Positionswert in der
linken Ecke der Überschriftszeile an, auch während eines Ladevorgangs
mit 2400 Baud bei 4&nbsp;MHz.
</p>
<p>
Alle Wartezeiten für Motoren und Zugmagnete sind relativ großzügig
bemessen und gelten für 4&nbsp;MHz ohne wait. So gibt&rsquo;s für Fremdrecorder
hoffentlich keine Probleme.
</p>
<p>
Da ich keine Lesefehler mit 2400 Baud habe,
gibt es kein erneutes Lesen nach einem Lesefehler. Ich benutze das
Standard Read Kommando des <span class="uppercase">Nassys</span>&nbsp;3. Die Marken werden dadurch beim
Lesen ignoriert. Die Cassette ist somit auch vom normalen
Betriebssystem lesbar (aufwärts kompatibel).
</p>
<p>
Das Programm ist, wie ich
meine, sehr einfach und modular aufgebaut, sodaß dem Anwender
Erweiterungsmöglichkeiten offen stehen. Der <span class="uppercase">Nassys</span> Konvention folgend,
ist Screen Editing möglich. Casmon ist mit dem

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

schnellen (ca 10 mal rascher als Zeap)
<!-- External Link --><a href="http://www.nascomhomepage.com/pdf/compass.pdf" title="Externer Link" target="_blank" rel="noreferrer">Compression ASM</a><!-- /External Link -->
von Level 9 Computing
geschrieben, der Labels beliebiger Länge zuläßt. (z.B.: CALL
READ&shy;CA&shy;TA&shy;LOG). Somit liest sich das Programm bequemer.
</p>
<p>
Ich biete das Quellprogramm deshalb auf Photkopien zum
Selbstkostenpreis an (5&nbsp;DM Schein, Rest in Porto zurück).
</p>
<h4>
Kurzbeschreibung des Programms&nbsp;: CAS&nbsp;&ndash; MON V1.3
</h4>
<p>
Dieses Programm ermöglicht das Laden und Speichern von Programmen und
Daten mit einem steuerbaren Recorder.
</p>
<p>
Es existiert dabei eine Fileverwaltung ähnlich einem Disk Operating
System. Es stehen Befehle zum Laden und Retten von Files, zum
Aktualisieren (Update) und Löschen, sowie Hilfsfunktionen wie das
Formatieren der Cassette und das Lesen des Kataloges
(Inhaltsverzeichnis) zur Verfügung. Eine Softwareschnittstelle
ermöglicht das Arbeiten mit dem Cas-Mon 1.3 vom Assembler, Basic,
Naspen, Pascal usw.
</p>
<h4>
Alphabetische Beschreibung der Kommandos:
</h4>
<p>
<u>1. &sbquo;C&lsquo;atalog;</u>
</p>
<p>
Das Kommando &sbquo;C&lsquo; spult das Band an den Anfang, liest den Katalog in den
Speicher, spult das Band abermals zurück und listet die Filenamen mit
der dazugehörigen Startposition und der Filelänge auf dem Bildschirm.
</p>
<p>
Wird ein hexadezimales Argument z.B. &sbquo;C 0&lsquo; gegeben, so wird nur der
sich im Speicher befindende Katalog gelistet, ohne die Bandposition zu
verändern. Format des Kommandos:
</p>
<pre>
        C   &lt;#dummy&gt;   [cr]
</pre>
<p>
<u>&sbquo;D&lsquo;elete:</u>
</p>
<p>
Der Befehl löscht ein File im Katalog, der sich im RAM befindet, und
schreibt diesen wieder auf Band. Existiert das spezifizierte File
nicht, erfolgt die Meldung &sbquo;No such File&lsquo;. Der Filename darf
Leerzeichen enthalten und max. 20 Zeichen lang sein. Format des Befehls:
</p>
<pre>
        D          [cr]
        Filename   [cr]
</pre>
<p>
<u>&sbquo;E&lsquo;xit:</u>
</p>
<p>
Exit dient zum Verlassen des Cas-Mon 1.3, wenn dieser als Unterprogramm
aufgerufen wurde. Dies ist das normale Ende einer Cassetten Operation
von einem übergeordneten Programm her (Basic, ASM, Naspen). Der
Stackpointer des übergeordneten Programms wird im Cas-Mon 1.3 nicht
benutzt. Format:
</p>
<pre>
        E     [cr]
</pre>
<p>
<u>&sbquo;F&lsquo;ormatiere Band:</u>
</p>
<p>
Dieser Befehl löscht das Band vollständig und bereitet es zur Benutzung
mit Cas-Mon 1.3 vor. Um ein unbeabsichtigtes Löschen zu verhindern,
muß nach Eingabe des Befehls die Frage &sbquo;Are You sure&nbsp;?&lsquo; mit &sbquo;Y&lsquo;
beanwortet
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../22/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/06/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 23 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/09/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../24/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/83-07.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->