<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/83/05/08/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus Journal - Mai 1983 - Ausgabe 5</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="80-Bus Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">80-Bus Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">Mai 1983</span> &middot; <span class="nowrap">Ausgabe 5</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../07/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/04/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 8 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/06/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../09/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<p>
Der verwendete Controler-Chipsatz von Western Digital gewährleistet
hohe Zuverlässigkeit und Funktionssicherheit, da die drei LSI-Chips
optimal aufeinander abgestimmt sind. Die Programmierung des
<!-- External Link --><a href="https://www.retrotechnology.com/herbs_stuff/WD179X.PDF" title="Externer Link: WD1793" target="_blank" rel="noreferrer">WD&nbsp;1793</a><!-- /External Link -->
ist sehr einfach und leichter verstandlich als z.B. die des
<!-- External Link --><a href="http://dunfield.classiccmp.org/r/765.pdf" title="Externer Link: &micro;PD765" target="_blank" rel="noreferrer">uPD&nbsp;765</a><!-- /External Link -->
Controlerchips von NEC, was natürlich durch einen etwas höheren Preis
erkauft werden muß. Der weitaus größte Teil der am Markt befindlichen
Microcomputer arbeitet ebenfalls mit den hier verwendeten
Controlerchips, sodaß viele Systemtreiber softwarekompatibel zu dieser
Schaltung sind (ausschließlich <!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0180.pdf" title="Externer Link: Z80 PIO" target="_blank" rel="noreferrer">PIO</a><!-- /External Link -->
 I/-O-Signale). Die Schaltung ist in
der hier veröffentlichten Form nicht direkt am 80-Bus betreibbar, da
die Signale DBDR, I/O-EXT nicht erzeugt werden. Es durfte jedoch nicht
schwierig sein, diese Anpassung durchzuführen. Es können bis zu drei
Laufwerke angeschlossen werden.
</p>
<h4>
Funktionsbeschreibung
</h4>
<p>
Als I/O-Adreßdecoder wird das IC 74LS138 (I18) verwendet, das in
Verbindung mit einem OR-Gate (I8) die /CS-Signale (/ = Aktive Low, RED)
für den
<!-- External Link --><a href="https://www.retrotechnology.com/herbs_stuff/WD179X.PDF" title="Externer Link" target="_blank" rel="noreferrer">WD1793</a><!-- /External Link -->
(I1) und die PIO (I2) erzeugt. Die entsprechende
Auswahl der I/O-Adressen kann aus dem Logikdiagramm des LS138 entnommen
werden. Zur Freischaltung des Adreßdecoders wird eine zusätzliche
Bank&nbsp;&ndash; Logik verwendet (/BANK0), welche bei Systemen ohne Banking
(64K-Systeme) entfallen kann.
</p>
<p>
Zur Taktteilung von 4MHz auf die erforderlichen 2&nbsp;MHz für den
<!-- External Link --><a href="https://www.retrotechnology.com/herbs_stuff/WD179X.PDF" title="Externer Link" target="_blank" rel="noreferrer">WD1793</a><!-- /External Link -->
wird ein einfacher Flip-Flop 7LS74 (I7) eingesetzt. Bei Betrieb mit
anderen Taktfrequenzen müßten hier evtl. Änderungen vorgenommen werde.
Bei einem Takt von 2&nbsp;MHz kann das Flip-Flop entfallen. Mit einem
2-MHz-System ist es allerdings schwer möglich, DD-Floppies zu
betreiben, da damit sehr zeitkritische I/O-Operationen auftreten, sodaß
dies nicht zu empfehlen ist. Dies ist nur mit trickreicher
Programmierung erreichbar. Über die PIO (I2) werden alle zusätzlichen
Steuersignale ausgegeben bzw eingegeben, wie im folgenden beschrieben.
Das HLD-Timing (Head Load) wird vom Monoflop 74121 (I16) erzeugt und
ist für 8&Prime;-Standard-Laufwerke (Shugart) ausgelegt. HLD wird von
der Treibersoftware abgefragt. Das Side-Select-Signal dient zum
Umschalten der R/W-Heads bei Doppelkopflaufwerken. Ebenso wird die
Laufwerkauswahl über die PIO vorgenommen. Als weitere Eingabesignale
werden &bdquo;Disk Change&ldquo; und &bdquo;Double Side&ldquo; über die

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

PIO kontrolliert und von der Treibersoftware (falls notwendig)
entsprechend behandelt. Alle anderen Standard-Floppy-Signale werden dem
<!-- External Link --><a href="https://www.retrotechnology.com/herbs_stuff/WD179X.PDF" title="Externer Link: WD1793" target="_blank" rel="noreferrer">WD&nbsp;1793</a><!-- /External Link -->
in entsprechend gepufferter Form zugeführt.
</p>
<h4>
Aufbau und Abgleich
</h4>
<p>
Die notwendigen Bauteile sind der Stückliste (Bild 2) zu entnehmen. Ein
Layout ist leider nicht verfügbar, die Bauteile haben jedoch auf einer
Europakarte ausreichend Platz. Am besten kann die Schaltung in Fädel-
oder Wrap-Technik aufgebaut werden. Der Abgleich und Test der Schaltung
kann den folgenden Einstellhinweisen entnommen werden. Einfache
Treiberroutinen, die auch den Betrieb von
<!-- External Link --><a href="https://de.wikipedia.org/wiki/CP/M" title="Externer Link" target="_blank" rel="noreferrer">CP/M</a><!-- /External Link -->
ermöglichen, sind in
<a href="../../10/text/#article1">diesem Heft</a>
enhalten.
</p>
<h4>
<u>Stückliste&nbsp;:</u>
</h4>
<img class="img-fluid" src="../../Image-08-1.jpeg" alt="" width="334" height="215">
<h4>
Einstell-Hinweise
</h4>
<p>
Vor der Benutzung der Floppydisk-Controller-Karte muß zuerst die
PLL-Schaltung eingestellt werden.
</p>
<p>
Zunächst ist IS15 zu entfernen. An
Pin 2 von I4 werden dann mit P3 1,45&nbsp;Volt eingestellt. Damit ist die
Einstellung des Arbeitsbereiches der PLL erfolgt. Mit dem Poti P2 wird
jetzt an Pin 7 von IS14 eine Frequenz von 4,00&nbsp;MHz eingestellt. Damit
ist der Abgleich der PLL beendet.
</p>
<p>
Die Einstellung des 4-Phase-Generators I6 wird mit Poti P1 vorgenommen.
Normalerweise reicht die Einstellung auf den halben Potiwiderstand aus.
Sollten jedoch Schwierigkeiten bei Double-Density auftreten, gibt man
auf Pin 11 von I6 Impulse und stellt P1 so ein, daß an den Ausgängen 1,
3, 5 oder 7 eine Pulsdauer von ca. 150 ns entsteht.
</p>
<p>
Erst jetzt wird IS15 wieder eingesetzt! Bei besonders unwilligen
Controllern kann man noch folgendes tun:
</p>
<ul class="dashed-left">
	<li> Kleines Programm schreiben, das einen bestimmten Sektor immer wieder
		einliest.</li>
	<li> Das Programm sollte nach jeder Statusabfrage diesen anzeigen.
		Außerdem sollte die Pufferlänge ausgedruckt werden.</li>
	<li> Jetzt P2 so einstellen, daß der Status =00 hex ist.</li>
	<li> Wenn jetzt die Pufferlänge ungleich der Sektorlänge ist, dann muß C4
		verkleinert werden, da der NMI-Impuls möglicherweise zu lang ist.</li>
</ul>
<p>
Wenn sich die Schaltung immer noch weigert, dann bitte bei den Autoren
anfragen.
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../07/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/04/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 8 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/06/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../09/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/83-05.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->