<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/83/09/07/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus Journal - September 1983 - Ausgabe 9</title>
	<!-- Sun, 05 Jan 2025 16:13:18 GMT -->
	<meta name="keywords" content="80-Bus Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-30 14:10:13 +0100 (Mo, 30. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">80-Bus Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">September 1983 &middot;</span> <span class="nowrap">Ausgabe 9</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../06/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/07/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 7 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/11/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../08/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<!-- Kasten über ganze Spalte: Start --><div style="border-bottom-style: solid; padding-bottom: 10px; border-left-style: solid; padding-left: 10px; border-right-style: solid; padding-right: 10px; border-width: 2px;  width: 100%; ">
<img class="img-fluid mx-auto d-block " src="../../Image-07-1.jpeg" alt="" width="269" height="252">
<!-- Kasten: Ende --></div>

<p>
Seien Sie beim Anschluß des Laufwerkes an das Netzteil vorsichtig: mein
Laufwerk döst nun in den ewigen Jagdgründen, weil ich die Anschlüsse
nicht nachgemessen habe. Mir lagen Unterlagen zu einem neueren Laufwerk
vor, auf dem die Steckeranschlüsse vertauscht sind. Beim Anlöten des
Steckers lagen nun 12V an den TTL-Bauteilen. Die ertrugen das 5
Minuten, dann begann die Sache zu stinken. Messen Sie also vor dem
Einschalten nach, ob die TTL-ICs auch an der richtigen Leitung hängen!
</p>

<!-- Kasten über ganze Spalte: Start --><div style="border-style: solid; padding: 10px; border-width: 2px;  width: 100%; ">
<img class="img-fluid mx-auto d-block " src="../../Image-07-2.jpeg" alt="" width="281" height="170">
&bdquo;Impulsfalle&ldquo;
<!-- Kasten: Ende --></div>

<p>
Wenn der Controller eine Aufgabe erledigt hat (z.B. Spur suchen oder
Schreib/&#x200b;Lesekopf auf Spur 00 positionieren, gibt er über seinen
INT-Ausgang ein Signal an die PIOA Bit7, die dadurch einen
Software-Interrupt auslösen soll. Da beim Testen des Programms hier
zunächst nichts geschah (das Programm

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

blieb irgendwo hängen), baute ich eine kleine Schaltung, die es
gestattet, einen Impuls zu &bdquo;speichern&ldquo;, denn das Oszilloskop
ist bei einem einmalig auftretenden sehr schnellen Impuls keine Hilfe.
Der Eingang der Schaltung wurde dann an die Interruptleitung (21c) oder
die NMI-Leitung (20c) gelegt. Erfolgte ein Interrupt, so leuchtete die
LED und zeigte damit den erfolgten Impuls an.
</p>
<p>
Auf diese Weise konnte ich einen gewichtigen Fehler im Programm
beseitigen. Vielleicht kann Ihnen die Schaltung auch einmal beim
Verfolgen ähnlicher Signale dienlich sein. Durch Umstecken eines
Jumpers läßt sie sich auch durch positive Signale ansteuern.
</p>
<p>
Die Hardware ist aufgebaut, das Laufwerk ist angeschlossen. Nun müssen
wir es zum Laufen bringen. Am besten geht das, wenn eine formatierte
Diskette zur Verfügung steht, dann hat man eine standardisierte
Kontrolle. Aber auch mit einer leeren Diskette können wir arbeiten.
</p>
<p>
Zunächst müssen die <!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0180.pdf" title="Externer Link: Z80 PIO" target="_blank" rel="noreferrer">PIO</a><!-- /External Link -->, der Controller und der
<!-- External Link --><a href="https://www.cpcwiki.eu/imgs/9/97/FDC9229BT_Datasheet.pdf" title="Externer Link: FDC9229" target="_blank" rel="noreferrer">FDC&nbsp;9229B</a><!-- /External Link -->
(Floppy Disk Interface Circuit) initialisiert werden.
</p>
<p>
Die PIO arbeitet im
Controlmode, d.h. es werden bestimmte Leitungen als Ein-bzw. Ausgänge
benutzt. Die Bits der I/O-Masken lassen sich anhand des Schaltbildes
nachvollziehen; 1 ist dabei jeweils ein Eingang.
</p>
<p>
Weiterhin muß PIOA
interruptfähig gemacht werden; die entsprechenden Kontrollwörter machen
sie dafür bereit, als Interruptvektor wird für PIO und I-Register in
unserem Programmbeispiel 8000H eingegeben; d.h. dort ist die Adresse
eingetragen, zu der das Programm bei einem Interrupt durch Bit7 der PIO
springt.
</p>
<p>
Der
<!-- External Link --><a href="https://www.retrotechnology.com/herbs_stuff/WD179X.PDF" title="Externer Link: WD1793" target="_blank" rel="noreferrer">WD-1793</a><!-- /External Link -->
wird durch einen zeitlich genau definierten Impuls rückgesetzt.
</p>
<p>
Als letzter Schritt der Initialisierung wird die
Laufwerknummer selektiert. (Die Nummer muß auf dem Laufwerk selbst
mittels einer Drahtbrücke eingestellt werden. Fabrikmäßig ist DRIVE0
vorgesehen). Hier muß man aufpassen, weil durch die PIO auch der
FDC9229 programmiert wird. Lange Zeit ist uns beim Testen entgangen,
daß eine 1 am Pin &bdquo;MINI&ldquo; (durch Invertierung eine 0 an der
PIO A3) der Controller für 8&Prime; Laufwerke angesteuert wird. Damit
Ihnen hier kein Denkfehler unterläuft, sollten Sie nachfolgende Tabelle
zu Rate ziehen.
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../06/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/07/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 7 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/11/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../08/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/83-09.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->