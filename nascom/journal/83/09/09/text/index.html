<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-06-30 12:05:40 +0200 (So, 30. Jun 2024) $ -->

	<title>80-Bus Journal - September 1983 - Ausgabe 9</title>
	<!-- Sun, 30 Jun 2024 10:05:41 GMT -->
	<meta name="keywords" content="80-Bus Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-06-30 12:05:40 +0200 (So, 30. Jun 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">80-Bus Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">September 1983 &middot;</span> <span class="nowrap">Ausgabe 9</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../08/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="fas fa-fast-backward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/07/01/text/" title="Heft zurück"><span class="fas fa-backward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 9 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/11/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../10/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<div class="text-end"><img class="img-fluid" src="../../Image-09-1.jpeg" alt="" width="181" height="185"></div>
<p>
Von den TypeI-Kommandos habe ich nur die benutzt, die im Listing
aufgeführt sind (Z100-203).
</p>
<p>
Nun sollten wir an die praktische Erprobung des Controllers gehen.
</p>
<p>
Setzen Sie einen Breakpoint auf 8115H und starten Sie mit E810A. Die
Initialisierung wird durchgeführt (vorher auf Ihr Laufwerk
einstellen!), die Schreibdichte auf Single Density eingestellt (für DD
müßte im Akku 01 stehen), und der Kopf wird auf Spur 00 gefahren. Im
Akku müßte 00 stehen (kein Error in FDCSTA).
</p>
<p>
Nun entfernen Sie den Breakpoint und setzen ihn auf 811DH. Mit gleicher
Startadresse wie oben und einem zusätzlichen Argument zwischen 0 und
27H können Sie den Kopf nun eine der 40 Spuren aufsuchen lassen.
</p>
<p>
Der
Test der Leseroutine muß aufgeschoben werden, bis eine formatierte
Diskette vorliegt. Deshalb zunächst zum Formatieren.
</p>

<!-- Kasten über ganze Spalte: Start --><div style="border-style: solid; padding: 10px; border-width: 2px;  width: 100%; ">
<img class="img-fluid mx-auto d-block " src="../../Image-09-2.jpeg" alt="" width="291" height="247">
<p style="text-align:center">
Shugart Vorschlag
</p>
<!-- Kasten: Ende --></div>
<br>

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

<p>
Bis Zeile 4340 ist der Programmablauf bekannt. Mit dem Aufruf von
&bdquo;SAV66&ldquo; wird die NMI-Routine von <span class="uppercase">Nassys</span> in Sicherheit
gebracht und mit &bdquo;RE66HL&ldquo; durch eine eigene Routine ersetzt.
Bei einem NMI, der ja einen Restart bei der Adresse 66H erzeugt, wird
nun ein OUTI (Inhalt von Register HL nach Port (C) und INC HL)
abgearbeitet, der die Daten auf die Diskette bringt. Am Ende der
Routine wird der alte Zustand bei Adresse 66H wiederhergestellt
(&bdquo;RE66&ldquo;).
</p>
<p>
Das Formatieren geht so vor sich, daß im Speicher
(hier ab 1000H) eine Spur vollständig aufgebaut wird. Diese wird durch
das WRITE-TRACK-Kommando mithilfe der NMIs in einem Stück auf die
Diskette geschrieben. Dann wird die nächste Spur aufgebaut etc., bis
alle 40 Spuren beschrieben sind.
</p>
<p>
Da man die Spuren aber nicht jeweils
vollständig wieder einlesen möchte (was durch das Kommando E4H möglich
ist), sondern auch kleinere Datenmengen, sind die Spuren in einzelne
Sektoren eingeteilt. Und hier beginnt das Problem: Auf welches Format
möchte man sich einigen? Für uns scheint klar, daß wohl aus der Ecke
der
<!-- External Link --><a href="https://www.auram.de/cms3/pages/computer/mc-cpm.php" title="Externer Link: mc-CP/M" target="_blank" rel="noreferrer">mc-CP/M</a><!-- /External Link -->-Benutzer
die meisten mit ähnlich gelagerten Interessen
kommen, und deshalb wollen wir uns in Zukunft an deren Format
anschließen. Mehr darüber im
<a href="../../../12/14/text/#article1">nächsten Heft</a>,
denn der Aufbau dieses
Formates ist etwas komplizierter. Hier sollten wir ein Format wählen,
mit dem wir den Controller testen können, ohne Rücksicht auf
Kompatibilität.
</p>
<p id="article1">
Mir lagen Disketten vor von folgenden Formaten:
</p>
<ol>
<li>Dieter Oberle Spezialformat (18 Sektoren 128Bytes)</li>
<li>Osborne 10 Sektoren/256 Bytes;Single Density wie oben</li>
<li>Osborne Double Density (Format nicht weiter nachgeprüft)</li>
</ol>
<p>
Von diesen Disketten konnte ich die beiden letzteren lesen. Dieter
Oberles Diskette war nicht zu entziffern, auch eine selbst beschriebene
in diesem Format brachte keinen Erfolg. Obwohl Dieter schon seit Jahren
damit arbeitet, scheint sich dieses Format mit unserem Controller nicht
zu vertragen.
</p>
<p>
Ich habe mich nun zum weiteren Testen für das
Osborne-Format Single Density entschieden.
</p>
<p>
Den Vergleich mit einem BASF-Vorschlag, der Oberle-Diskette und einem
Shugart-Vorschlag entnehmen Sie folgender Tabelle:
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../08/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="fas fa-fast-backward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/07/01/text/" title="Heft zurück"><span class="fas fa-backward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 9 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/11/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../10/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/83-09.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->