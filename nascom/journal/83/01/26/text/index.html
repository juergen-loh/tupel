<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/83/01/26/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus Journal - Januar 1983 - Ausgabe 1</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="80-Bus Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">80-Bus Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">Januar 1983 &middot;</span> <span class="nowrap">Ausgabe 1</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../25/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/12/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 26 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/02/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../27/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<p>
verbannen!) <span class="uppercase">Relocator</span>-Programme haben wir schon im
<a href="../../../../81/06/12/text/#article1"><span class="uppercase">Nascom</span>-Journal</a>
<a href="../../../../81/06/17/text/#article1">6/81</a>
veröffentlicht. Beide Programme hatten den Nachteil, daß der
verschiebliche Code &bdquo;von Hand&ldquo; erzeugt werden mußte. Das von
<!-- External Link --><a href="https://www.digitalresearch.biz/Gary.Kildall.htm" title="Externer Link: Gary A. Kildall" target="_blank" rel="noreferrer">Gary Kildall</a><!-- /External Link -->
verwendete Verfahren hat den großen Vorteil, daß dieser
Code von einem Programm erzeugt wird. Voraussetzung ist, daß ein
Programm in zwei Versionen vorliegt, die sich nur im Speicherbereich
unterscheiden, in dem sie lauffähig sind. Dieser Unterschied darf
keinen &bdquo;krummen Wert&ldquo; annehmen, sondern muß stets das
Vielfache einer &bdquo;ganzen PAGE&ldquo; (=100H) betragen. Immer dann,
wann ein Programm im Assembler-Quellcode vorliegt, kann man auf
einfache Weise zwei solche Programmversionen erzeugen (durch
entsprechende &bdquo;ORG&ldquo;-Vorgaben). NASDIS habe ich hingegen erst
in ein ZEAP-Format disassemblieren und editieren müssen, bevor diese
Bedingung erfüllt war. Das Verfahren ist im Grunde sehr einfach. Die
Routine RELVEC vergleicht die beiden Programmversionen Byte für Byte
und erzeugt einen &bdquo;Verschiebungsvektor&ldquo;, in dem für jedes
Byte des Programms ein Bit vorgesehen ist. Wird ein Unterschied
festgestellt, wird das entsprechende Bit gesetzt, sonst nicht. Der
Unterschied muß immer gleich dem &bdquo;Page-Unterschied&ldquo; sein,
sonst erfolgt eine Fehlermeldung. Der Verschiebungsvektor zu einem
Programm kann dann separat gespeichert und bei Bedarf geladen werden.
Die Routine RELOC verrechnet dann diesen Verschiebungsvektor mit einer
beliebigen Version des Programms und verändert es dabei so, daß es an
einer vorgewählten Adresse lauf fähig wird. (Die Verschiebung muß man
dann mit dem Copy-Befehl vornehmeen!) Das Programm muß nicht an einer
Stelle stehen, wo es auch lauffähig ist. Es muß nur eine Bedingung
erfüllt sein: Der Abstand der zwei Programmversionen muß gleich dem
Unterschied in &bdquo;Pages&ldquo; sein. Alles weitere kann man wohl dem
Assemblerlisting entnehmen.
</p>
<p>
(wird fortgesetzt)
</p>
<br>
<table>
<tr><th colspan=2><!-- External Link --><a href="https://de.wikipedia.org/wiki/CP/M" title="Externer Link" target="_blank" rel="noreferrer">CP/M</a><!-- /External Link -->-I/O-<span class="uppercase">Funktionen</span></th></tr>
<tr><td>Nr.</td><td>Bedeutung</td></tr>
<tr><td>0</td><td>System rücksetzen</td></tr>
<tr><td>1</td><td>Konsolen-Eingabe</td></tr>
<tr><td>2</td><td>Konsolen-Ausgabe</td></tr>
<tr><td>3</td><td>Leser-Eingabe</td></tr>
<tr><td>4</td><td>Stanzer-Ausgabe</td></tr>
<tr><td>5</td><td>Drucker-Ausgabe</td></tr>
<tr><td>6</td><td>Dirkte Konsolen Ein/&#x200b;Ausgabe (s.u.)</td></tr>
</table>

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

<table>
<tr><td>7</td><td>IOBYTE holen</td></tr>
<tr><td>8</td><td>IOBYTE setzen</td></tr>
<tr><td>9</td><td>Buffer drucken bis &bdquo;$&ldquo;</td></tr>
<tr><td>10</td><td>Buffer von Konsole füllen</td></tr>
<tr><td>11</td><td>A=FFH falls Konsoleingabe, sonst=0</td></tr>
</table>
<h4>
Anmerkungen:
</h4>
<p>
Einzelzeichen werden für die Ausgabe immer in
E übergeben, Pointer (Nr. 9 und 10) in DE
</p>
<p>
Eingaben erfolgen immer über A, ebenso das
IOBYTE
</p>
<p>
Zu 6: bei Aufruf in E=FFH oder Zeichen, bei
Rückkehr in A Zeichen oder 0
</p>
<p id="article1">
<img class="img-fluid" src="../../Image-26-1.jpeg" alt="" width="333" height="618">
</p>
<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../25/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/12/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 26 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../83/02/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../27/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/83-01.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->