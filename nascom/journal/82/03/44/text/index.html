<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/82/03/44/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Nascom Journal - März/April 1982 - Ausgabe 3/4</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="Nascom Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">Nascom Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">März/April 1982 &middot;</span> <span class="nowrap">Ausgabe 3/4</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../43/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/02/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 44 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/05/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../45/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<h1 id="article1" class="donthyphenate">
<span class="uppercase">Erweiterung</span> der <span class="uppercase">Nassys</span>&nbsp;1 <span class="uppercase">Befehle</span>
</h1>
<h3>
von Otto Fößel
</h3>
<p>
Waehrend man fuer den Aufruf des Basic-Interpreters die Moeglichkeit
besitzt, dazu einen speziellen kurzen Befehl in <span class="uppercase">Nassys</span> zu verwenden (J
oder Z), gibt es so eine Moeglichkeit fuer die anderen Systemprogramme
nicht. Naspen,&#x200b;Debugger, Zeap und Disassembler muessen alle mit dem
Execute-Befehl gestartet werden, wobei jeweils die richtige Adresse
fuer Warm-, bzw, Kaltstart bekannt sein muss. Leicht unuebersichtlich
kann es werden, wenn man zusaetzliche Programme im Eprom parat hat, wie
z.B. Treiberprogramme fuer Drucker, <span class="uppercase">Eprommer</span>-Software oder sonstige
Hilfsprogramme. Eleganter waere es dann doch, wenn man diese Programme
ebenfalls mit besonders dafuer vorgesehenen Befehlen aufrufen koennte
(z.B. Kleinbuchstaben). Mein Loesungsvorschlag dazu erfordert das
Umprogrammieren von 4 Bytes in <span class="uppercase">Nassys</span>&nbsp;1 und ein kleines Programm, das
dann zusaetzlich immer im Speicher vorhanden sein muss. Die Aenderung
in <span class="uppercase">Nassys</span> wuerde ich fuer Interessierte kostenlos machen (bitte
Rueckporto nicht vergessen). Vorher moechte ich aber noch darauf
hinweisen, dass Herr Maurer im
<a href="../../../../81/12/15/text/#article2">Heft 11/12</a> eine aehnliche Moeglichkeit
angekuendigt hat. (Siehe
<a href="../../../02/09/text/#article1">Heft 2/82</a> &nbsp; Red.) Wahrscheinlich kommt er ohne
ein Umprogrammieren des Monitors aus, dafuer erscheint mir aber der
benoetigte Speicherplatz von 2k als sehr gross und, ohne meine Loesung
anpreisen zu wollen, glaube ich, dass sie flexibler ist, da sich jeder
ohne Muehe seine eigenen Befehle definieren und anhaengen kann. Aber
jetzt zu den Aenderungen im Monitor. Bei Adresse 03C9 bis 03F2 liegt in
<span class="uppercase">Nassys</span> die Haupt-Monitor-Schleife, die jeweils eine Eingabezeile
uebernimmt und dann den gueltigen Befehl ausfuehrt, bzw. bei
ungueltigem Befehl eine ERROR-Meldung ausgibt. (Siehe Flussdiagramm
Bild 1.) Diese Schleife wird einfach durch einen JP-Befehl zum eigenen
Programm, das die zusaetzlichen Befehle interpretiert, geoeffnet.
Vorher muss noch die Kontrolle auf gueltige Befehle (A-Z) durch die
Aenderung eines Bytes erweitert werden (A-Z und a-z). Insgesamt
muessten dafuer im Monitor diese vier Speicherplaetze dann
folgendermassen aussehen:
</p>
<p>
03DD: 7B und ab 03EE: C3 xx xx&nbsp;,&#x200b;wobei xx xx

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

die Anfangsadresse des angehaengten Interpreterprogrammes ist. Jetzt zu
diesem Programm, das fast genauso einfach und kurz ausschaut. Als
erstes wird noch einmal ueberoruft, ob der Befehlsbuchstabe (ASCII
Code), der in den Akku geholt wurde, ein grosser Buchstabe ist. Wenn
ja, kann gleich wieder zurueck in die Monitorschleife gesprungen
werden. Nachdem aber durch das Einfuegen des JMP-Befehles dort 2
Befehle ueberschrieben wurden, muessen diese zwei Befehle erst noch
hier durchgefuehrt werden, (Siehe ab Label &bdquo;GROSS&ldquo; im
Programmlisting Bild 2). Wurde ein kleiner Buchstabe im Akku
vorgefunden, so wird das Programm bei &bdquo;NEU&ldquo; fortgesetzt, und
dort kann man jetzt seine eigenen Befehle definieren, indem einfach mit
einem CP-Befehl nachgeschaut wird, ob gerade dieser Buchstabe im Akku
vorliegt. Ist dies der Fall, wird mit JR Z,xx dort hingesprungen, wo
festgelegt ist, was auf Grund dieses Befehls gemacht werden soll.
Dadurch kann nacheinander auf die verschiedenen Buchstaben abgefragt
werden. Am Ende dieser CP-Abfragen steht der Sprung zurueck in den
Monitor, wo die ERROR-Meldung ausgegeben wird. Dadurch werden alle
Buchstaben, die nicht explizit als neue Befehle durch die CP-Abfragen
ausgesondert wurden, als ungueltig erkannt. Als einfaches Beispiel ist
gezeigt, wie mit dem Buchstaben &bdquo;P&ldquo; das Programmierprogramm
fuer EPROMs aufgerufen wird und mit dem Buchstaben &bdquo;z&ldquo; der
ZEAP Assembler. Bei letzterem wurde vereinbart, dass der blanke
Buchstabe &bdquo;z&ldquo; einen Kaltstart bedeutet; wird nach dem
&bdquo;z&ldquo; noch eine beliebiege Hexzahl mit eingetippt, so soll das
als Warmstart interpretiert werden. Uebrigens: die Moeglichkeit, mit
einem einfachen JMP-Befehl in die Systemprogramme zu springen, ist
erlaubt. Soll naemlich z.B. von ZEAP zurueck in den Monitor gesprungen
werden, so geschieht dies nicht mit einem RET-Befehl, denn dann wuerde
hoechstens der Stack durcheinanderkommen und der Monitor trotzdem nicht
gefunden. Statt dessen wird dort &ndash; und das sollte man auch fuer die
eigenen Programme beachten &ndash; mit den Befehlen RST 0 (entspricht Reset)
oder RST 20 zum Monitor zurueckgekehrt! Zum Schluss noch ein Tip, um
die Programmierphantasie anzuregen. Ein Befehl &bdquo;h&ldquo; (help)
koennte definiert werden, der eine Tabelle der neuen Befehle und ihrer
Bedeutung auf dem Bildschirm
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../43/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/02/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 44 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/05/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../45/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/82-03.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->