<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Nascom Journal - Juni 1982 - Ausgabe 6</title>
	<!-- Sun, 15 Dec 2024 13:31:40 GMT -->
	<meta name="keywords" content="Nascom Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-15 14:31:39 +0100 (So, 15. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">Nascom Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">Juni 1982 &middot;</span> <span class="nowrap">Ausgabe 6</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../19/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/05/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 20 von 24</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/07/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../24/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../21/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<h1 id="article1" class="donthyphenate">
Seite(n) für Einsteiger
</h1>
<h3>
von Günter Böhm
</h3>
<p>
Diesmal auf dieser Seite etwas über BASIC. Dennoch bleiben wir auf der
Maschinenebene; denn auf Leserwunsch sollen wir einmal etwas über PEEK,
POKE, DEEK und DOKE schreiben, Diese Befehle gestatten es, direkt in
den Speicher &bdquo;einzusteigen&ldquo;, und so könnte dieser Artikel
sowohl für BASIC als auch für Assembler Interessierte nützlich sein.
</p>
<p>
Mit dem Befehl PEEK(x),&#x200b;der auch auf anderen Rechnern üblich ist, kann
man eine Adresse auf ihren Inhalt untersuchen. Mit PRINT&shy;PEEK(x) können
Sie den Inhalt der Adresse ausgeben lassen. Man muß nur darauf achten,
daß die Adressen im Hex-System &bdquo;geladen&ldquo; sind, die Ausgabe
aber dezimal erfolgt. Da kann man sich keine Umrechnerei ersparen.
</p>
<p>
Interessanter als PEEK ist der POKE-Befehl. Damit kann man den Inhalt
von Adressen ändern und somit direkt in Maschinenprogramme eingreifen.
Wir wollen zur Anschauung einmal die Blinkgeschwindigkeit des Cursors
ändern, die ja vom Betriebssystem (in meinem Fall <span class="uppercase">Nassys3</span>), also auf
Maschinenebene gesteuert wird. Dazu schauen Sie zunächst einmal nach,
welche Werte die verantwortlichen Adressen normalerweise enthalten. Mit
PEEK(3122), das ist die Adresse des niederwertigen Bytes, und
PEEK(3123), der Adresse des höherwertigen Bytes, erhalten Sie die
entsprechenden Werte (PRINT nicht vergessen!). Setzen Sie das MSB (Most
Significant Byte=höherwertiges B.) nun durch POKE3123,0 auf Null, und
geben Sie in die Adresse des LSB (Least Significant Byte) verschiedene
Werte. PEEK und POKE müssen nicht in ein Programm eingebunden werden,
sie arbeiten auch als Kommandos direkt vom Keyboard (Entschuldigung,
Herr Bach: von der Tastatur!).
</p>
<p>
Die Befehle DEEK und DOKE sind eine
Besonderheit des <span class="uppercase">Nascom</span>. Sie bewirken das gleiche wie ihre kleineren
Brüder, nur kann man hiermit zwei aneinanderhängende Adressen
versorgen; d.h. mit DEEK werden zwei Bytes gelesen, mit DOKE zwei Bytes
geladen. Man muß darauf achten, daß die &bdquo;Doppelbytes&ldquo; in
umgekehrter Reihenfolge im Speicher liegen (LSB und dann MSB). Der
Hex-Wert 0C80 liegt also als 80 0C im Speicher. Letzterer Wert muß zum
Umrechnen in eine Dezimalzahl

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

verwendet werden. Ergibt sich dabei eine Zahl größer als 32767, so muß
diese von 65536 subtrahiert und als negative 7ahl verwendet werden.
Unser Beispiel ergibt also 3200 dez. (sehr häufig verwendet als Start
eines Maschinenprogramms, da es die erste verfügbare Adresse für den
<span class="uppercase">Nascom</span>-Benutzer ist). Die Adresse C8D7hex ergibt 51415 und muß als
&minus;14121 eingegeben werden.
</p>
<p>
Die DEEK und DOKE Befehle haben den Vorteil,
in den BASIC Zeilen Platz zu sparen. Der Nachteil ist die schwierigere
Umrechnung von dez in hex und umgekehrt (das DOKE-Programm von Reinhard
Zickwolf,
<a href="../../../../81/10/09/text/#article1">Journal 10-81</a>
hilft dabei) und der Aufwand, Programme mit
diesen Befehlen für andere Rechner umzuschreiben. Ich werde in Zukunft
auf das Bißchen Platzersparnis verzichten und nur noch mit PEEK und
POKE arbeiten. Viele Besitzer anderer Rechner als <span class="uppercase">Nascom</span> werden Ihnen
dankbar sein, wenn Sie auch &bdquo;durchsichtiger&ldquo; programmieren!!
</p>
<p>
Unser Beispiel mit der Blinkgeschwindigkeit ließe sich natürlich mit
DOKE3122,X verkürzen, aber....
</p>
<p>
Falls Sie Maschinenprogramme des Betriebssystems aufrufen wollen,
schaden die DEEKs und DOKEs allerdings nichts, denn zu diesen Routinen
haben &bdquo;Fremdbenutzer&ldquo; sowieso keinen Zugang. Schreiben Sie
aber dann in der Dokumentation oder in REM Anweisungen genau dazu, was
die BASIC Zeilen bezwecken, denn eine Rechnereigene Adresse ist für
einen Besitzer eines anderen Systems selbstverständlich niemals zu
identifizieren.
</p>
<p>
Hier nun einige Adressen, die zum POKEN interessant
sein könnten:
</p>
<table>
<tr><td>Bildschirmbeginn links oben</td><td>2058</td></tr>
<tr><td>Bildschirmende rechts unten</td><td>3001</td></tr>
<tr><td>Beginn der Titelzeile</td><td>3018</td></tr>
<tr><td>Ende der Titelzeile</td><td>3065</td></tr>
<tr><td colspan=2>(eine Position in gleicher Spalte eine Zeile
tiefer wird jeweils durch +64 ermittelt)</td></tr>
<tr><td>Cursorposition</td><td>3113</td></tr>
<tr><td>Tastendruck Verzögerung</td><td>3118</td></tr>
<tr><td>Repeatgeschwindigkeit</td><td>3120</td></tr>
<tr><td>Cursor Blinkgeschwindigkeit</td><td>3122</td></tr>
<tr><td>$UOUT(Adresse der Ausgabe)</td><td>3191</td></tr>
<tr><td>SRLX (Out über Serial Port)</td><td>91</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td>MTFLP (Drive LED ein/&#x200b;aus)</td><td>81</td></tr>
<tr><td>Get Input (BIN)</td><td>105</td></tr>
<tr><td>BLINK until Input</td><td>120</td></tr>
<tr><td>Get a Line (INLIN)</td><td>752</td></tr>
</table>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../19/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/05/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 20 von 24</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/07/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../24/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../21/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/82-06.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->