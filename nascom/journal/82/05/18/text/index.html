<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/82/05/18/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Nascom Journal - Mai 1982 - Ausgabe 5</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="Nascom Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">Nascom Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">Mai 1982 &middot;</span> <span class="nowrap">Ausgabe 5</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../17/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/03/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 18 von 32</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/06/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../32/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../19/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<h1 id="article1">
Seite(n) für Einsteiger
</h1>
<h4 style="text-align:center">
Sprünge
</h4>
<p class="first-indent">
Heute darf gesprungen werden, von einem Byte zum nächsten oder wohin
auch immer. Bewegung soll anregen, also lassen wir die Speicherzellen
rauchen. Die &bdquo;Intelligenz&ldquo; eines Rechners wird bekanntlich
durch zwei Dinge ermöglicht: 1. Er kann sehr schnell fehlerfrei etwas
immer wieder tun und 2. kann er einfache Entscheidungen treffen.
Allerdings muß er dabei immer wissen, wo&rsquo;s lang geht.
</p>
<p class="first-indent">
Die Sprünge, die der
<!-- External Link --><a href="https://de.wikipedia.org/wiki/Zilog_Z80" title="Externer Link" target="_blank" rel="noreferrer">Z80</a><!-- /External Link -->
Prozessor kennt, lassen sich nach mehreren
Gesichtspunkten einteilen, nämlich nach der Art der Bedingung und der
Form, wie die Bedingung beschrieben wird.
</p>
<p class="first-indent">
Der einfachste Sprung ist derjenige ohne Bedingung. Wenn z.B. der
Zielort die Hausnummer 4C3F hat, sieht bei einer direkten Adressierung
der entsprechende Befehlscode so aus: C3 3F 4C&nbsp;. C3 kennzeichnet die
Sprungart, die beiden Bytes der Adresse folgen in umgekehrter
Reihenfolge. Soll der Zielort erst innerhalb eines Programmablaufs
errechnet werden, legt man das Ergebnis im HL- oder eines der
Indexregisterpaare ab. Geben Sie hier unter NAS-SYS einmal folgendes
komplexe Programm ein:
</p>
<table class="asmlist">
<tr><td>0D00</td><td>DF 63   </td><td>lese eine Zeile ein</td></tr>
<tr><td>0D02</td><td>DF 64   </td><td>wandle sie in einen
                                      Binaerwert um, speichere
									  Ergebnis ab 0C21</td></tr>
<tr><td>0D04</td><td>2A 21 0C</td><td>Lade diese Adresse in das
                                      HL Register</td></tr>
<tr><td>0D07</td><td>E9      </td><td>arbeite ab der Stelle weiter,
                                      auf die der Inhalt von  0C21
                                      und 0C22 zeigt.</td></tr>
</table>
<p class="first-indent">
Nach dem Start ED00 wird jetzt eine Adresseingabe erwartet. Das
Programm springt dann dorthin und arbeitet dann von dieser Stelle
weiter. Probieren Sie folgende Werte: 0051, 02EB, 0450.
</p>
<p class="first-indent">
Die relative Adressierung hat zwei Vorteile: 1. Programme lassen sich
ohne Probleme im Arbeitsspeicher verschieben und 2. besteht der OP-Code
nur noch aus 2 Bytes. Leider aber muß man, wenn keinen Assembler zur
Verfügung hat, doch etwas umständlich die Sprungweite berechnen. Das 2.
Byte gibt die Sprungweite bezogen auf den aktuellen Stand des
Programmzählers (PC) an. Soll der Sprung rückwärts erfolgen, wird das
8. Bit gesetzt und die restlichen sieben werden in ihrem Wert rückwärts
gesetzt (2-Komplement).
</p>
<h4>
Beispiele:
</h4>
<table class="asmlist">
<tr><td>0D00</td><td>18 04</td><td>     </td><td>JR LABEL</td></tr>
<tr><td>0D02</td><td>26 02</td><td>     </td><td>LD H,2</td></tr>
<tr><td>0D06</td><td>00   </td><td>LABEL</td><td>NOP</td></tr>
</table>
<p class="first-indent">
Die erste Programmzeile wird in den Prozessor eingelesen und der PC um
die entsprechende Zahl an Bytes erhöht. Um jetzt zum Label zu gelangen,
müssen 4 Bytes übersprungen werden. Deshalb muß das 2. Byte in der 1.
Zeile 04 sein. Das 1. Byte steht für einen relativen Sprung.
</p>

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

<table class="asmlist">
<tr><td>0D00</td><td>06 04</td><td>LABEL</td><td>LD B,4</td></tr>
<tr><td>0D02</td><td>0E 07</td><td>     </td><td>LD C,7</td></tr>
<tr><td>0D06</td><td>18 FA</td><td>     </td><td>JR LABEL</td></tr>
</table>
<p class="first-indent">
Um zum LABEL zu gelangen, müssen ab der 3. Zeile insgesamt 6 Bytes
üebersprungen werden. Will man bei einem Programm mit relativen
Sprüngen später noch etwas einfügen, müssen die Sprungweiten natürlich
neu berechnet werden. Relative Sprünge können vorwärts maximal 129
Bytes, rückwärts 126 Bytes weit reichen. Mit dem folgenden Programm
darf man mit ED00 ein Gefühl für die Weite erhalten!
</p>
<br>
<img class="img-fluid mx-auto d-block " src="../../Image-18-2.jpeg" alt="" width="207" height="185"><br>
<p style="text-align:right">
Wolfgang Mayer-Gürr
</p>

<!-- Kasten &uuml;ber ganze Spalte im Blocksatz: Start --><div class="justify " style="border-style: solid; padding: 10px; border-width: 2px;  width: 100%; ">
<p>
Hinweis zum Programm <span class="uppercase">Seeschlacht</span> von K. Mombaur
(<a href="../../../01/12/text/#article1">Heft 1-82</a>):
</p>
<p>
H.Auge hat entdeckt, daß das Programm nicht wegen <span class="uppercase">Nassys3</span> auf manchen
Systemen nicht läuft, sondern wegen der obskuren zweiten BASIC-Version.
Entgegen der
<a href="../../../01/16/text/#article1">Hinweise</a>
der Redaktion ist das Programm so einfacher anzupassen:
</p>
<p>
Durch DOKE 4175,-6670 wird der Zeilenvorschub unterdrückt und die
Eingabe an der erwarteten Stelle gemacht (&nbsp;Manual Seite 25). Durch DOKE
4175,-25 kann wieder auf die normale Betriebsart umgeschaltet werden
(im Spiel nicht nötig).<br><br>
</p>
<p>
Mehrere Leser hatten Schwierigkeiten mit der Grafikerweiterung aus
<a href="../../../01/19/text/#article1">Heft 1-82</a>.
Peter Deege aus Aachen schreibt dazu:
</p>
<p>
Ich habe mir diese einfache
Grafikerweiterung nachgebaut, aber leider funktionierte sie nicht. Nach
Durchdenken des Schaltbilds stellte ich fest, daß die Freigabe der
Schieberegister genau umgekehrt erfolgte. Nach den Änderungen IC&nbsp;15 Pin
7 nach Pin 13 (LS 00) und IC 265 Pin 7 nach Pin 4 (LS 00) tat sich
schon &rsquo;was, aber noch unsaubere Character und Doppeldarstellungen. Ich
tauschte das LS 74 mit einem Standard 74, und die Karte lief
einwandfrei.
</p>
<!-- Kasten: Ende --></div>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../17/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/03/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 18 von 32</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/06/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../32/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../19/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/82-05.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->