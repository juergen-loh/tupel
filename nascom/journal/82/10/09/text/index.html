<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/82/10/09/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Nascom Journal - Oktober/November 1982 - Ausgabe 10/11</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="Nascom Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">Nascom Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">Oktober/November 1982 &middot;</span> <span class="nowrap">Ausgabe 10/11</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../08/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/09/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 9 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/12/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../10/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<p>
Interruptmöglichkeiten
<!-- External Link --><a href="https://de.wikipedia.org/wiki/Intel_8080" title="Externer Link" target="_blank" rel="noreferrer">8080</a><!-- /External Link -->
abgedeckt werden. Daneben ließ man sich
natürlich auch noch etwas neues einfallen.
</p>
<p>
Das Ergebnis sind drei verschiedene Interrupt-Modes, mit denen der
<!-- External Link --><a href="https://de.wikipedia.org/wiki/Zilog_Z80" title="Externer Link" target="_blank" rel="noreferrer">Z80</a><!-- /External Link -->
laufen kann und die vorher entsprechend mit dem Befehl &bdquo;IM
mode&ldquo; (mode = 0, 1, 2) eingestellt werden müssen. Zuvor aber
noch einen Blick auf die Hardware. Nachdem an jedem zusätzlichen Pin
gespart werden muß, kann also nicht für jeden Interrupt ein eigener
Anschluß an der CPU vorgesehen werden. Beim Z80 wurden für diesen Zweck
lediglich zwei Pins spendiert. 1.) Der Eingang &bdquo;NMI&ldquo; = nicht
maskierbarer Interrupt. Eine Unterbrechung an diesem Pin kann nicht
maskiert, d.h. softwaremäßig nicht unterdrückt werden und besitzt somit
die höchste Dringlichkeitsstufe. Die Interrupt-Bedienroutine muß bei
Adresse 66H liegen, d.h. die Verzweigung dorthin ist hardwaremäßig
vorgegeben und deshalb auch besonders schnell. Die
Interrupt-Bedienroutine muß beendet werden mit dem Befehl
&bdquo;RETN&ldquo;.
</p>
<p>
2.) Der Eingang &bdquo;INT&ldquo; dient als
Sammelleitung sämtlicher anderer Interruptanforderungen. Dieser
Eingang kann softwaremäßig durch die Befehle Interrupt-Enable und
Interrupt-Disable gesperrt oder freigegeben werden. Als weitere
Besonderheit ist das Verzweigen auf verschiedene
Interrupt-Bedienroutinen möglich und das Priorisieren der verschiedenen
Interrupts. Der letzte Begriff muß, da er eine ganz wichtige Rolle
spielt, noch näher erklärt werden&nbsp;. Hierbei geht es um die
Fragestellung, welcher Interrupt vorrangig zu behandeln ist. Diese
Frage ist vor der Realisierung zu klären und kann dann zu folgendem
Ablauf führen: Der Prozessor, der gerade eine Unterbrechung bearbeitet,
erhält die Meldung eines noch wichtigeren Interrupts. Daraufhin wird er
das erste Interrupt-Bedienprogramm verlassen und den Interrupt mit der
höheren Priorität zuerst behandeln. Danach kehrt er dann zum ersten
Interrupt-Bedienprogramm zurück, beendet dieses, und danach kehrt er
ins Hauptprogramm zurück. Bereits geübte Programmierer erkennen eine
Parallele zu den geschachtelten Unterprogrammaufrufen. Ein weiterer
Vergleich mit Unterprogrammen ist möglich. Durch eine Unterbrechung
wird,&#x200b;wie beim CALL-Befehl, die Programmausführung an einem anderen
Punkt fortgesetzt und danach wieder zur ursprünglichen Stelle
zurückgekehrt. Und genau wie beim CALL-Befehl wird dafür der
Programm-Zähler automatisch auf den Stack gerettet. Im Unterschied

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

zum Unterprogramm muß beim Interrupt die entsprechende Routine mit dem
Befehl &bdquo;RETI&ldquo; (return from Interrupt) abgeschlossen werden.
</p>
<p>
Aber jetzt zurück zu den drei verschiedenen Interrupt-Modes, die den
Eingang &bdquo;INT&ldquo; betreffen. Mode 0: Dieser Mode entspricht genau
der Interruptbehandlungsweise des 8080. Dabei muß neben dem
Interruptsignal das unterbrechende Gerät auch den Datenbus bedienen. In
der Regel wird dieses Gerät die Bitfolge eines Restart-Befehls auf den
Datenbus legen. Der Prozessor holt also den nächsten Befehl nicht vom
Speicher, sondern der nächste Befehl wird vom peripheren Gerät
bestimmt. Speziell dafür gibt es die Ein-Byte-Befehle &bdquo;RST&ldquo;,
die gleichzeitig die Startadressen der Bedienroutinen enthalten. Da
dieser Befehl nur ein Byte lang ist, sind damit nur 8
Interrupt-Bedienroutinen auswählbar, deren Startadressen im Bereich 0 &ndash;
38H liegen. Wegen dieser eingeschränkten Möglichkeit wird man diesen
Mode also nur verwenden, wenn bereits vorhandene 8080-Programme
ablaufen sollen.
</p>
<p>
Mode 1: Auch dieser Mode dient zur Herstellung der Kompatibilität zum
8080 und verzweigt zu einem Bedienprogramm, das bei Adresse 38H
beginnen muß.
</p>
<p>
Mode 2: Dieser Mode bietet die umfassendsten Verzweigungsmöglichkeiten
und muß in Verbindung mit den E/A-Bausteinen des Z80 gesehen werden
(<!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0180.pdf" title="Externer Link: Z80 PIO" target="_blank" rel="noreferrer">PIO</a><!-- /External Link -->,
<!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0183.pdf" title="Externer Link: Z80 SIO" target="_blank" rel="noreferrer">SIO</a><!-- /External Link -->,
<!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0181.pdf" title="Externer Link: Z80 CTC" target="_blank" rel="noreferrer">CTC</a><!-- /External Link -->,
<!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0179.pdf" title="Externer Link: Z80 DMA" target="_blank" rel="noreferrer">DMA</a><!-- /External Link -->).
Auch im Mode 2 muß beim Interrupt der Datenbus
bedient we/den. Da die externen Geräte dazu meist nicht in der Lage
sind, wird der Interrupt zuerst zu einem dieser programmierbaren
E/A-Bausteine geleitet und diese Bausteine übernehmen dann die
Weitergabe des Interrupts an die CPU und die Bedienung des Datenbuses.
Eine weitere Funktion liegt noch in diesen E/A-Bausteinen: nämlich die
Priorisierung. Diese Bausteine sind ähnlich den Perlen einer Kette
durch eine Leitung miteinander verbunden, wobei der Baustein, der in
dieser Kette an oberster Stelle liegt, den höchstwertigen Interrupt
erzeugt und gleichzeitig alle darunterliegenden Bausteine daran
hindert, gleichzeitig einen Interrupt zur CPU zu senden. Damit ist das
Problem der Priorisierung hardwaremäßig gelöst.
</p>
<p>
An einem Beispiel soll jetzt der weitere Ablauf einer Interruptmeldung
beschrieben werden. Eine PIO (paralleler E/A-Baustein) erhält von einem
externem Gerät die Interruptmeldung. Die Hardware-Priorisierung
bestimmt jetzt, ob dieser Interrupt zur CPU weitergeleitet werden
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../08/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/09/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 9 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/12/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../10/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/82-10.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->