<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/82/09/17/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Nascom Journal - September 1982 - Ausgabe 9</title>
	<!-- Sun, 05 Jan 2025 16:13:18 GMT -->
	<meta name="keywords" content="Nascom Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-30 14:10:13 +0100 (Mo, 30. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">Nascom Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">September 1982 &middot;</span> <span class="nowrap">Ausgabe 9</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../16/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/07/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 17 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/10/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../18/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<p>
Leider erzeugt sie unter anderem auch ein M1-Signal, welches mit Hilfe
von zwei Flipflops (IC&nbsp;16) den Adreßmultiplexer (IC&nbsp;2) auf die 4
DIL-Schalter umsteuert und die obersten 4 Adreßleitungen A12 bis A15
von der CPU abtrennt.
</p>
<p>
Der Effekt: Die CPU wird arglistig getäuscht, denn statt dem Byte der
Adresse 0000 muß sie jetzt das Byte der eingestellten 4K-Grenze
schlucken, und dieses Byte heißt in jedem Fall C3. &bdquo;Aha&ldquo;,
sagt sich die CPU, &bdquo;ich soll noch zwei Bytes holen und meinen
Programmzähler damit füttern.&ldquo; Das macht sie auch prompt, und
schon arbeitet sie in dem Programmteil, der mit den DIL-Schaltern
eingestellt wurde. Rein zufällig erschein genau zu diesem Zeitpunkt das
scheinheilige M1-Signal wieder und schaltet den Adreßmultiplexer auf
die Leitungen A12 bis A15 der CPU zurück.
</p>
<p>
(Das Umschaltsignal erscheint wirklich nur zweimal. Es ist mit dem
mono-getriggerten Reset-Impuls verknüpft. Siehe N2-Schaltplan IC&nbsp;12a).
</p>
<p>
Wenn das so ist wie beschrieben, dann mußten ja alle uns vertrauten
Firmware-Programme, die auf einer 4K-Grenze beginnen, diesen direkten
Sprungbefehl enthalten. Schauen wir doch einfach mal nach:
</p>
<p>
<table>
<tr><td>Programm</td><td>Startadresse</td><td>1.Befehl</td></tr>
<tr><td>ROM BASIC</td><td>E000</td><td>C3 03 E0</td></tr>
<tr><td colspan=3>&nbsp;&nbsp;(falls kein Minderheiten-BASIC)</td></tr>
<tr><td>ZEAP&nbsp;2.0</td><td>D000</td><td>C3 36 DB</td></tr>
<tr><td>DEBUG</td><td>C000</td><td>C3 03 C0</td></tr>
<tr><td>Tool-Kit</td><td>B000</td><td>C3 03 B0</td></tr>
<tr><td><a href="../../../../81/12/35/text/#article1">UNICON 1.4</a></td><td>A000</td><td>C3 0B A4</td></tr>
<tr><td colspan=3>&nbsp;&nbsp;(Herr Lotter, gewußt wie oder Zufall?)</td></tr>
<tr><td><a href="../../../02/09/text/#article1">Menue-Progr.</a></td><td>9000</td><td>21 DF 6F</td></tr>
<tr><td colspan=3>&nbsp;&nbsp;(Nanu? Lieber Herr Maurer)</td></tr>
</table>
<p>
Hoffentlich sind alle Minderheits-BASIC-Besitzer nicht allzu traurig
darüber, daß bei ihren Versionen nicht sofort nach Reset die
Microsoft-Reklame erscheint, sondern daß sie erst noch die J-Taste
drücken müssen.
</p>
<h1 id="article1" style="text-align:left" class="donthyphenate">
Autostart von Rom-Basic
</h1>
<h2>
Vers. 4.7
</h2>
<h3>
von Peter Urban
</h3>
<p>
Für <span class="uppercase">Nascom2</span> MIT NAS-SYS1. Durch längere Untersuchungen mit
Disassembler, Breakpoint und Debugger ist es mir gelungen eine Routine
zu finden, die ein Basic-Programm läd und es startet. Da es
nachweislich verschiedene

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

Versionen des Rom-Basics gibt empfiehlt es sich mit dem entscheidenden
Teil zu beginnen.
</p>
<p>
Als erstes scheibt man ein kleines Basic-Programm, macht einen Reset
und führt das Maschinenprogramm ab 0D36 aus.
</p>
<p>
Diese Routine schreibt in
den Textbuffer das Token Run und springt dann nach E816.
</p>
<p>
Prinzipiell
lässt sich auf diese Art und Weise jedes Basic-Kommando ausführen aber
(jetzt kommt der Pferdefuss) nur nach dem Befehl Run wird ein Warmstart
ausgefürt, der den Stackpointer und den Workspace des Basic setzt.
</p>
<p>
Nach der Ausführung anderer Befehle stürzte das Programm früher oder
später ab.
</p>
<p>
Wurde Ihr Programm ausgeführt dann brauchen Sie jetzt einen durch die
Cass.-LED ferngesteuerten Kassettenrecorder.
</p>
<p>
Legen Sie eine Kassette mit Basic-Programm ein, machen sie einen
Basic-Kaltstart und starten Sie die Maschine bei 0DBF. Hat es nicht
funktioniert haben Sie noch eine Chance. Ändern Sie folgende Zeilen:
</p>
<pre class="donthyphenate">
220 CRD2   CALL IN1
270        CALL IN1
290 kann entfallen
300        CALL IN2
340 kann entfallen
350        CALL IN4
460        CALL IN5
</pre>
<p>
Die entspechenden Routinen finden Sie im
<a href="../../21/text/#article1">Anhang</a>. Jetzt muss noch der
Basic-Kaltstart getestet werden. Dazu löschen Sie den Workspace von
1000 bis 1100 mit dem Copy-Befehl und legen die
Kassette mit dem Basic-Programm ein. Starten sie jetzt bei 0D44 die
Maschine. Erscheint die übliche Meldung mit dem maximal zur Ferfügung
stehenden Speicherraum und läuft das Programm nach korrektem Einlesen
nicht, muss ich passen.
</p>
<p>
Die Praxis sieht folgendermassen aus:
</p>
<p>
Man initialisiert die
USR-Funktion mit Doke 4100, 3328 und kann dann mit A=USR(n) vom Basic
aus jedes beliebige File starten. Wenn n=0 ist wird das nächste File
geladen. Wenn n=65 ist wird File A geladen, ist n=66 wird File B
geladen ect. Bei Label CRD0 steht der Hexwert des Filenamens dann in
Register D.
</p>
<p>
Eine weitere Möglichkeit ist das Programm mit G(enerate)
D00 DC4 D44 am Anfang einer Kassette abzuspeichern, gefolgt von einem
Basic-Programm. Wenn der Kassettenrecorder beim Abschalten der LED
nicht sofort abstellt (Verzögerung)&nbsp;, kann man nach dem Einschalten des
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../16/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/07/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 17 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/10/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../18/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/82-09.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->