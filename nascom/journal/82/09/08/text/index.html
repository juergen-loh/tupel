<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Nascom Journal - September 1982 - Ausgabe 9</title>
	<!-- Sun, 15 Dec 2024 13:33:05 GMT -->
	<meta name="keywords" content="Nascom Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-15 14:31:39 +0100 (So, 15. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">Nascom Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">September 1982 &middot;</span> <span class="nowrap">Ausgabe 9</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../07/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/07/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 8 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/10/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../09/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<p>
möglich gewesen. Hier wird deshalb eine andere Lösung vorgestellt: das
Formatierprogramm ist als
<a href="../../19/text/#article1">Ausgabetreiber</a> geschrieben, der mit dem
&bdquo;U&ldquo;-Befehl des Betriebssystems der normalen Bildschirmausgabe
zugeschaltet werden kann. Vorher muß die Startadresse des Programms
HFORM bei C78H eingetragen werden. Damit kann das Formatierprogramm mit
jedem Texteditor zusammenarbeiten.
</p>
<h4>
Programmanlauf
</h4>
<p>
Der auszugebende Text wird zunächst in einen Zeichenpuffer geschrieben,
bis die vorgegebene Stellenzahl erreicht ist. Dann wird beim nächsten
Leerzeichen (jeder Code kleiner als 21H wird als Leerzeichen
interpretiert!) mit der Formatierung begonnen. Hat die Zeile genau die
vorgeschriebene Länge, wird sie ausgedruckt. Sonst wird zunächst durch
Einfügen von Halbschritten anstelle der ganzen Leerschritte eine
Verkürzung versucht. Ist dies nicht möglich, wird das letzte Wort
abgetrennt und eine Verlängerung der um dieses Wort verminderten Zeile
mit anderthalbfachen Leerschritten versucht. Ist dies möglich, wird die
Zeile ausgedruckt und das nicht berücksichtigte Wort an den Anfang des
Zeilenpuffers geschoben, damit es bei der nächsten Zeile mitgedruckt
wird. Dann kehrt die Ausgaberoutine ins Hauptprogramm zurück, das dann
weitere Zeichen ausgeben kann, bis wieder die vorgegebene Stellenzahl
erreicht ist. Ist eine Formatierung weder durch Verkürzung noch durch
Verlängerung möglich, wird der Benutzer zu Hilfe gerufen: die nicht
formatierbare Zeile wird auf dem Bildschirm angezeigt und kann nun mit
den Editierfunktionen von NAS-SYS bearbeitet werden. In der Regel wird
man das letzte Wort trennen und damit eine Formatierung ermöglichen. In
manchen Fällen ist es auch notwendig, jeweils einen zusätzlichen
Leerschritt von Hand einzusetzen, wenn eine Trennung des letzten Wortes
nicht möglich ist. Das Editieren wird mit <span class="uppercase">Newline</span> abgeschlossen. Dabei
MUSS zwischen dem Cursor und dem letzten Zeichen der Zeile eine
Leerstelle sein, sonst kann in der nächsten Zeile ein Leerzeichen
verlorengehen!
</p>
<p>
Der Programmteil EDIT ruft HFORM auf; d.h. das ganze
Programm ist rekursiv programmiert. Der Vorteil der Rekursion liegt in
der Einfachheit und Kürze des Programms. Der Nachteil ergibt sich für
den Benutzer beim Editieren: er darf keine Fehler machen! Wird z.B. das
letzte Wort so getrennt, daß eine Formatierung immer noch

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

nicht möglich ist (weil die nötige Anzahl von Leerstellen im Text nicht
vorhanden ist), wird wieder die Editierfunktion aufgerufen. Dabei geht
aber der bereits abgetrennte Wortteil verloren. Man kann dann nur noch
mit RESET aussteigen und das Hauptprogramm neu starten. Man muß dann
dafür sorgen, daß die Ausgabe genau an der Stelle wieder beginnt, wo
der ausgedruckte Text endet. Nach meiner Erfahrung macht man diesen
Fehler aber nur einmal!
</p>
<p>
Natürlich soll nicht jede Zeile formatiert
werden. Bei Überschriften, Absätzen oder am Textende muß die
Formatierungsfunktion aufgehoben werden können. Dies geschieht mit dem
Paragraphenzeichen (bzw. dem &bdquo;Schnecken&ldquo;-a&nbsp;&ndash; das kann ich
deshalb auch nicht über den Drucker ausgeben!). Zwischen dem
Paragraphenzeichen und dem letzten Textzeichen muß wiederum ein
Leerschritt sein, sonst kann es in bestimmten Fällen zu Fehlfunktionen
kommen. Folgt auf das Paragraphen-Zeichen ein Leerzeichen (oder
irgendein Control-Code, z.B. 0D = <span class="uppercase">Newline</span>), so wird dies in die nächste
Zeile übernommen. Das führt dazu, daß die nächste Zeile um eine ganze,
halbe oder anderthalbfache Leerstelle (je nach Formatierung) eingerückt
wird. Das ist in vielen Fällen erwünscht, kann aber auch vermieden
werden, wenn hinter dem Paragraphenzeichen ohne Zwischenraum gleich
wieder der Text folgt. Das Programm hat noch 2 weitere Funktionen. Es
ist ein Zeilenzähler eingebaut, der nach einer vorgegebenen Zeilenzahl
anhält (Papierwechsel!) und nach Drücken von <span class="uppercase">Newline</span> das Programm
wieder startet. Der Programmteil EDIT wandelt 2 Tastencodes um (für
Leute, die ihren <span class="uppercase">Nascom</span> mit deutschem Zeichensatz versehen haben):
&bdquo;SHIFT O&ldquo; = Ü und &bdquo;CTRL O&ldquo; = Ö. Auch ohne deutschen
Zeichensatz ganz nützlich&nbsp;&ndash; schließ&shy;lich kann die Schreibmaschine
Deutsch.
</p>
<h4>
Programmparameter
</h4>
<p>
Das
<a href="../../19/text/#article1">Programm</a>
habe ich nicht mit Kommentaren versehen. Ich hoffe aber,
daß die Ablaufbeschreibung und die Namen der Labels und Unterprogramme
aussagekräftig genug sind. Wichtig sind aber noch die Parameter des
Programms, die vom Benutzer je nach Bedürfnissen zu ändern sind. COUNT
enthält die vorgegebene Zeichenzahl pro Zeile; COUNT+1 enthält jeweils
die aktuelle Anzahl der Zeichen im Puffer. BUFPTR zeigt jeweils auf die
nächste freie Stelle im Zeichenpuffer. LCOUNT enthält die Anzahl der
bereits gedruckten Zeilen; LCOUNT+1 die Zeilenzahl, die an einem Stück
gedruckt werden soll. Das Druckerprogramm habe ich hier an die
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../07/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/07/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 8 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../82/10/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../09/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/82-09.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->