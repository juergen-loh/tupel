<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Nascom Journal - 4/81 5</title>
	<!-- Sun, 15 Dec 2024 13:32:28 GMT -->
	<meta name="keywords" content="Nascom Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-15 14:31:39 +0100 (So, 15. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">Nascom Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi">4/81 5</h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../21/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../00/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/03/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 22 von 31</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/06/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../23/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 1 Spalten: Start --><div class="row lowercase"><div class="col-sm-12">
<h4 id="article1">
<u>Das Programm TTY-SYS</u>
</h4>
<!-- 1 Spalten: Ende --></div></div>

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify lowercase">

<p>
Eine Beschreibung dieses Programms hatte ich ja schon lange
angekuendigt&nbsp;&ndash; im <a href="../../../../80/04/16/text/#article2">Heft 4/80</a>.
aber dann kam immer etwas dazwischen und
die Veroeffentlichung hat sich bis jetzt verzoegert. Jetzt soll das
Programm, das schon einige Zeit lieferbar ist (fuer 98.&ndash;&nbsp;DM + MwSt),
aber auch im Nascom-Journal vorgestellt werden.
</p>
<p>
Das Programmsystem TTY-SYS ist die Softwareschnittstelle zum Anschluss
eines 5-Kanal-Fernschrelbers an einen Nascom mit dem Betriebssystem
NAS-SYS, es enthaelt die Routinen zur Zeichenausgabe an den
Fernschreiber, zur Zeicheneingabe vom Fernschreiber, zum Stanzen und
Lesen von Lochstreifen, zum Drucken von HEX-Listings und zum Ausdrucken
des Bidschirminhalts. Die Baudrate des Fernschreibers kann
softwaremaessig zwischen 45, 50, 75 und 100 umgeschaltet werden, die
Druckausgabe kann beliebig formatiert werden (Zahl der Zeichen pro
Zeile und Zahl der Zeilen pro Seite). Die ASCII-Zeichen, die im
Baudot-Code nicht enthalten sind, werden als Doppelzeichen ausgegeben,
beim Einlesen werden die Doppelzeichen wieder erkannt, so koennen alle
ASCII-Zeichen (von 20h bis 5Fh) eindeutig ausgegeben und eingelesen
werden.
</p>
<p>
TTY-SYS wird in einem EPROM
<!-- External Link --><a href="https://deramp.com/downloads/eprom_programmers/TMS2708.pdf" title="Externer Link" target="_blank" rel="noreferrer">2708</a><!-- /External Link -->
 mit der Anfangsadresse B000 geliefert
(andere Anfangsadressen auf Anfrage). Es ist zusammen mit dem
unveraenderten NAS-SYS verwendbar, die Bedienung wird jedoch
komfortabler, wenn in der befehlstabelle von NAS-SYS bei dem Befehl &sbquo;P&lsquo;
die Adresse der Interpretierroutine von TTY-SYS (B027) eingetragen
wird, durch diese Modifikation im zweiten EPROM bleibt NAS-SYS auch
ohne TTY-SYS weiter verwendbar.
</p>
<p>
TTY-SYS verwendet die Speicherzellen 0BFB-0BFF (im unsichtbaren
Bildschirmbereich) als Variablenspeicher. Weiterer Arbeitsspeicher wird
nicht benoetigt.
</p>
<p>
TTY-SYS ist standardmsessig fuer eine Taktfrequenz des Rechners von
2&nbsp;MHz ausgelegt. Soll es mit 4&nbsp;MHz laufen, muss dies bei der Bestellung
angegeben werden.
</p>
<p>
TTY-SYS erweitert NAS-SYS um folgende Befehle:
</p>
<h4>
<u>P0 a b c &nbsp; (E B000 a b c)</u>
</h4>
<p>
Dieser Befehl initialisiert Ein- und Ausgabe ueber den Fernschreiber. a
ist die Zahl der Zeilen pro Seite (a=0: Standardwert 66, a=FF: keine
Seiteneinteilung). b ist die
Zahl der Zeichen pro Zeile (b=0: Standardwert 69) und c gibt die
Baudrate an (c=0: 45 Baud, c=1: Standardwert 50 Baud, c=2: 75 Baud und
c=3: 100 Baud). Fuer fehlende Argumente werden die Standardwerte
eingesetzt.
</p>
<p>
Zeilen- und Zeichenzahl sowie Baudrate, die mit diesem Befehl gesetzt
wurden, gelten dann auch fuer die Befehle P1 bis P5 (bis zum Druecken
von Reset oder dem Ausfuehren von RST 0). Wurde P0 nicht ausgefuehrt,
verwenden diese Befehle die Standardwerte.
</p>
<p>
Nach der Initialisierung kann die Ein- und Ausgabe durch die Ausgabe
der folgenden Steuerzeichen gesteuert werden:
</p>
<p class="first-indent">
CTRL A (ASCII 01): Die Druckausgabe wird initialisiert, d.h. zeichen,
die ab jetzt ausgegeben werden, werden auch auf dem Fernschreiber
gedruckt, der Fernschreibermotor wird eingeschaltet, falls er noch
nicht laeuft.
</p>

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

<p class="first-indent">
CTRL B (ASCII 02): Die Eingabe vom Fernschreiber wird initialisiert,
der Fernschreibermotor wird eingeschaltet, falls er noch nicht laeuft.
die Nascom-Tastatur ist jetzt abgeschaltet. Wird am Fernschreiber
&sbquo;&#x2720;&lsquo; eingegeben oder an der Nascom-Tastatur die Shift-Taste
gedrueckt, wird die Eingabe vom Fernschreiber wieder abgeschaltet.
</p>
<p class="first-indent">
CTRL C (ASCII 03): Ab jetzt keine weitere Druckausgabe, der Motor
bleibt an.
</p>
<p class="first-indent">
CTRL D (ASCII 04): Schaltet Motor aus, macht Blattvorschub, falls
Druckausgabe initialisiert.
</p>
<p class="first-indent">
CTRL E (ASCII 05): An den Fernschreiber werden 50 Nullzeichen
ausgegeben, z.B. fuer Anfang und Ende eines Lochstreifens.
</p>
<p>
Die Steuerzeichen kann man an der Nascom-Tastatur eingeben, indem man
die Taste &sbquo;@&lsquo; und dann gleichzeitig z.B. die Taste &sbquo;A&lsquo; (CTRL A)
drueckt. Gibt man nacheinander CTRL A und CTRL B ein werden Aus- und
Eingabe auf den Fernschreiber umgeschaltet, jetzt kann der Nascom
zusammen mit allen Programmen, die sich dafuer eignen, vom
Fernschreiber aus gefahren werden (z.b. auch ueber Funk).
</p>
<p>
Die Adressen der Eingaberoutine TTYIN (B20F) wird bei &amp;SUIN
(0C7B), die der Ausgaberoutine TTYOUT (B07D) bei &amp;SUOUT (0C78)
eingetragen und die Ein- und Ausgabetabellen auf INTU bzw. OUTTU
umgesetzt, Von Maschinenprogrammen aus spricht man TTYIN und TTYOUT
ueber die normalen Ein- und Ausgaberoutinen an oder ueber UIN und
UOUT. Die auszugebenden Zeichen werden an TTYOUT im A-Register
uebergeben. Nach einem Aufruf
von TTYIN erfolgt ein Ruecksprung, sobald ein Zeichen vom Fernschreiber
vorliegt. Beim Ruecksprung ist dann das Carry-Flag gesetzt, das Zeichen
steht im A-Register.
</p>
<p>
Der NAS-SYS Befehl &sbquo;N&lsquo; setzt die Ein- und Ausgabetabellen wieder auf
die Standardwerte.
</p>
<h4>
<u>P1 a b &nbsp; (E B001 a b)</u>
</h4>
<p>
Auf dem Fernschreiber werden die Speicherinhalte ab der Adresse a bis
zur Adresse b (ausschliesslich) als HEX-Listing gedruckt.
</p>
<h4>
<u>P2 a b &nbsp; (E B002 a b)</u>
</h4>
<p>
Der Bildschirminhalt wird auf dem Fernschreiber gedruckt. a
ist die Nummer der ersten Zeile (a=1: ab 080A) und b die Anzahl der
Zeilen.
</p>
<h4>
<u>P3 a b &nbsp; (E B003 a b)</u>
</h4>
<p>
Dient zum Ausstanzen eines Speicherbereichs auf Lochstreifen. Verwendet
wird das gleiche Format wie bei Tabulate (mit Pruefbytes). Nach der
Eingabe des Befehls fragt der Rechner: &sbquo;Titel&nbsp;?&lsquo;. Danach kann man den
Namen des Programms eingeben, der beim Wiedereinlesen des Lochstreifens
angezeigt wird.
</p>
<h4>
<u>P4 &nbsp; (E B004)</u>
</h4>
<p>
Einlesen eines Lochstreifens, der mit P3 gestanzt wurde. Fehlerhafte
Zeilen werden angezeigt (wie bei &sbquo;Load&lsquo;).
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../21/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../00/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/03/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 22 von 31</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/06/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../23/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/81-04.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->