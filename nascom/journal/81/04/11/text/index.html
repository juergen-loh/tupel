<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-06-30 12:05:40 +0200 (So, 30. Jun 2024) $ -->

	<title>Nascom Journal - 4/81 5</title>
	<!-- Sun, 30 Jun 2024 10:05:41 GMT -->
	<meta name="keywords" content="Nascom Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-06-30 12:05:40 +0200 (So, 30. Jun 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">Nascom Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi">4/81 5</h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../10/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../00/text/" title="Erste Seite"><span class="fas fa-fast-backward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/03/01/text/" title="Heft zurück"><span class="fas fa-backward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 11 von 31</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/06/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../12/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 1 Spalten: Start --><div class="row"><div class="col-sm-12">
<h4 id="article1">
Nützliche Unterprogramme für <span class="uppercase">Nascom&nbsp;1</span>
</h4>
<p>
In vielen Programmen ergibt sich die Notwendigkeit, Werte zu berechnen.
Hierbei fällt auf, dass der Monitor des <span class="uppercase">Nascom</span> als Rechner eine
absolute Niete ist; ausser Addition und Subtraktion geht nichts mehr.
So habe ich einmal eine Reihe von Unterprogrammen erstellt, die frei
verschiebbar sind und in Maschinenprogrammen als einfache Rechenhilfe
dienen.
</p>
<p>
Alle Rechenvorgänge laufen im Hexadezimalsystem ab, können aber durch
entsprechende Unterprogramme dezimal von der Tastatur eingegeben oder
dezimal auf dem Bildschirm dargestellt werden. Ausgangswert und
Ergebnis stehen jeweils in HL, unbeteiligte Register werden gerettet,
so dass Push und Pop Befehle vor und nach Aufruf der Unterprogramme
entfallen.
</p>

<dl class="wide">
<dt>
0C80
</dt><dd>
Eine Zahl in HL wird mit einer Zahl in B multipliziert. (die
Möglichkeit der Multiplikation mit einer mehr als zweistelligen Zahl
ist ist durch die beschränkte Kapazität des 8 Bit Systems nicht gegeben)<br>
Bei Überschreiten der Rechenkapazität erfolgt ein relativer Sprung zur
Fehleranzeige, der im Fall einer Verschiebung des Programms in der
Adresse 0C8E geändert werden müsste.
</dd>
<dt>
0C95
</dt><dd>
Eine Zahl in HL wird durch eine Zahl in BC dividiert.
Enthält BC 00 so rechnet das Programm bis in alle Ewigkeit.
Man müsste hier eine Erkennung auf BC=0 einbauen (&nbsp;z.B.
LD A,B OR C JRZ ENDE) oder einfach Divisionen durch 0 vermeiden,
</dd>
<dt>
0CA5
</dt><dd>
Es wird die Quadratwurzel einer Zahl in HL errechnet.&#x200b;Diese
Zahl darf nicht grösser als 1812dez sein, da sonst der Bereich der
positiven Zahlen überschritten wäre. (32676 ist max.&#x200b;Radikant) Da
Kommazahlen im Ergebnis nicht eingeplant sind, erübrigt es sich, die
Schleifenzahl 10 zu erhöhen, um genauere Näherungswerte zu erhalten.
Das Ergebnis des grössten Radikanten ist nach zehn Durchgängen auf 1
Zehntel genau. Ein Nachteil ist, dass die Wurzel aus 9 bis 15 jeweils 3
ergibt und erst ab 16 auf 4 steigt usw. Bei mir wurde das Programm zum
Ansteuern von Schrittmotoren verwendet. Dabei kann ich mit Bruchteilen
von Schritten nichts anfangen. Wer aber Wert auf genauere Ergebnisse
legt, kann ja anstatt z.B. 5 dez 500 dez eingeben und erhält dann ein
Ergebnis auf ein Hundertstel genau, wobei er sich nur ein Komma
hinzudenken müsste. Dieser letzte Mangel kann sogar noch leicht im
Anzeigeprogramm behoben werden, wenn man nach der Hunderter ein Komma
einprogrammiert. Allerdings wird dann der Zahlenbereich nach oben auf
99,99 beschränkt. Das Wurzelprogramm enthält einen Aufruf des
Divisionsprogramms bei 0CB6. Dieser muss bei Verschiebung im Speicher
geändert werden.
</dd>
<dt>
0CC1
</dt><dd>
Fehlermeldung bei Bereichsüberschreitung und Sprung zu Monitor
</dd>
<dt>
0CD5
</dt><dd>
Eine Dezimalzahl in HL wird in Hex umgewandelt. Das Ergebnis
steht in HL. Register DE und B werden verändert und müssen vor Aufruf
gerettet werden. Bei Verschieben beachten: Aufruf des Unterprogramms
Multiplizieren bei 0CE2, 0CEF, 0D02&nbsp;.
</dd>
<dt>
0D10
</dt><dd>
Hilfsprogramm zu 0D25
</dd>
<dt>
0D25
</dt><dd>
Eine Hexzahl in HL wird fünfstellig dezimal auf Bildschirm
ausgegeben. AF, BC und DE müssen vorher gerettet werden. Das Programm
enthält Aufrufe von Multiplizieren und Dividieren 0D11, 0D1D, und
Aufrufe des Hilfsprogramms in 0D28,0D2E, 0D34 und 0D3A; bei Verschieben
beachten.
</dd>
</dl>
<!-- 1 Spalten: Ende --></div></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../10/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../00/text/" title="Erste Seite"><span class="fas fa-fast-backward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/03/01/text/" title="Heft zurück"><span class="fas fa-backward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 11 von 31</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/06/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../31/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../12/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/81-04.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->