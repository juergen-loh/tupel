<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>Nascom Journal - September 1981 - Ausgabe 9</title>
	<!-- Sun, 15 Dec 2024 13:31:40 GMT -->
	<meta name="keywords" content="Nascom Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-15 14:31:39 +0100 (So, 15. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">Nascom Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">September 1981 &middot;</span> <span class="nowrap">Ausgabe 9</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../06/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/08/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 7 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/10/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../08/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<p>
Es soll noch darauf hingewiesen werden, daß einige Besonderheiten des
<!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0179.pdf" title="Externer Link: Z80 DMA" target="_blank" rel="noreferrer">DMA</a><!-- /External Link -->
durch die einfache Schaltung nicht benutzbar sind. So könnte der
INT-Ausgang, nachdem ein Block (Länge programmierbar) übertragen
wurde, ein Strobe Signal ausgeben. Zweitens könnte der Chip Select
Eingang CE, während der DMA aktiv ist, auch als WAIT-Eingang dienen
(siehe DMA Manual). Dieses Multiplexen ist wahlweise programmierbar.
Für die hier gezeigte Anwendung sind die Optionen nicht notwendig und
deshalb nicht in der Schaltung berücksichtigt.
</p>
<h4>
<span class="uppercase">Software</span>
</h4>
<p>
Das Programm wird mit der kurzen Routine INIT gestartet. Dies ist nach
jedem Monitorkaltstart und nach den Monitorroutinen &bdquo;Read&ldquo;,
&bdquo;Write&ldquo; und &bdquo;Generate&ldquo; zu wiederholen. Dabei wird
in die Sprungtabelle des Nascommonitors die Startadresse der DMACRT
Routine abgelegt. Am Anfang von DMACRT wird geprüft, ob zum Bildschirm
&bdquo;Backspace&ldquo; oder &bdquo;Cursor Home&ldquo; ausgegeben wird.
Diese beiden Funktionen werden noch von der Original-CRT-Routine
erledigt. Die DMACRT ist im wesentlichen genauso aufgebaut wie das
Original (siehe Assemblerlisting T2 oder T4). Nur dort, wo die CPU das
Verschieben des Bildschirmspeichers vornimmt, wird nun der DMA mit
folgender Programmsequenz programmiert:
</p>
<pre class="donthyphenate">
LD C,DMA1
LD B,TABLAENGE
LD HL,TAB
OTIR
</pre>
<p>
wobei der Tabellenanfang in Reg.&#x200b;HL, die Tabellenlänge in Reg.&#x200b;B und die
I/O Adresse des DMA in Reg.&#x200b;C geladen wird. In der Tabelle stehen eine
Reihe von Kommandowörtern und Parametern, mit denen der DMA
programmiert wird, Nach der Ausgabe des letzten Kommandoworts durch den
OTIR-Befehl übernimmt der DMA die Kontrolle über den Bus und verschiebt
den Bildschirmspeicher. Nach dem Abarbeiten von &bdquo;Clear
Screen&ldquo;, &bdquo;New Line&ldquo; oder Ausgabe eines Zeichens zum
Bildschirm kehrt das Programm in das Original CRT-Programm zurück und
arbeitet wie gewohnt weiter.
</p>

<!-- 2 Spalten: Spaltenwechsel -->

<div class="justify">

<p>
DMACRT ist in der vorliegenden Form nur mit <span class="uppercase">Nasbug</span>&nbsp;T4 lauffähig, da es
Teile der Monitor CRT-Routine von T4 benutzt. Für T2 User ist die
Änderung minimal:
</p>
<pre class="donthyphenate">
340 PUSH AF
350 PUSH BC
360 PUSH DE
370 PUSH HL
</pre>
<p>
Von <span class="uppercase">Nassys</span> liegt mir leider kein Assemblerlisting vor. Sollte jemand an
DMACRT Interesse zeigen und ein Assemblerlisting zur Verfügung stellen,
werde ich eine Anpassung an <span class="uppercase">Nassys</span> vornehmen.
</p>

<!-- Kasten über ganze Spalte: Start --><div style="border-style: solid; padding: 10px; border-width: 2px;  width: 100%; ">
<p>
<img class="img-fluid mx-auto d-block " src="../../Image-07-1.jpeg" alt="" width="226" height="422">
</p>
<!-- Kasten: Ende --></div>
</div>
<br>

<div id="nascompl">
<div class="text-end"><img class="img-fluid" src="../../Image-07-2.jpeg" alt="NASCOMPL:&#32;&#10;Kann ja &rsquo;mal&#32;&#10;passieren" width="287" height="205"></div>
</div>
<h4 class="uppercase">
Korrektur
</h4>
<p>
Im <a href="../../../../80/01/08/text/#article1">Heft 1/80</a>
ist das Spiel <span class="uppercase">Pirhanas</span> abgedruckt. Damit der Punktezähler
richtig funktioniert, muß in Adresse 10FA statt EE der Wert FE
eingetragen werden.
</p>
<p>
Ulrich Wallis, Heddesheim
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../06/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/08/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 7 von 28</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../81/10/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../28/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../08/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/81-09.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->