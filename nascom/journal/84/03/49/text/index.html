<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:13:18 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/84/03/49/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus Journal - Juli&#x200b;/&#x200b;Aug.&#x200b;/&#x200b;September 1984 - Ausgabe 3</title>
	<!-- Sun, 16 Mar 2025 14:14:42 GMT -->
	<meta name="keywords" content="80-Bus Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2025-03-16 15:14:42 +0100 (So, 16. Mrz 2025) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">80-Bus Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">Juli&#x200b;/&#x200b;Aug.&#x200b;/&#x200b;September 1984 &middot;</span> <span class="nowrap">Ausgabe 3</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../48/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/m2/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 49 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/04/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../50/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<h1 id="article1">
Grafik Routinen
</h1>
<h3>
von <span class="uppercase">Clemens Ballarin</SPAN>
</h3>
<h4 class="uppercase">
<u class="double">Grafik&nbsp;&ndash; Routinen mit Pascal MT+</u>
</h4>
<p>
Auch ich habe die
<a href="../../../01/03/text/#article2">Grafikkarte</a>
von Herrn Klaassen und Herrn Schulmeister
aufgebaut, und sie funktioniert, nach Beseitigung einiger
Fertigungsfehler, prima.
</p>
<p>
Ich fand die Aufloesung von 512 * 256 jedoch nicht ausreichend, auch
stoerte mich das &sbquo;krumme&lsquo; Format, deshalb habe ich den Kontroller 9365
verwendet, trotz Warnungen vor stark flimmernden Bildern. Das leichte
Flimmern faellt nicht auf, da ich keine Textverarbeitung sondern Grafik
machen will (Ich verwende keinen Monitor mit langnachleuchtender
Roehre: SANYO DM 2212).
</p>
<p>
Die Unterscheidung von Lese- und Schreibseite hat einen
Schoenheitsfehler: Zur Unterscheidung wird das Signal BLK herangezogen,
das ist jedoch nicht eindeutig, denn wird im Modus &sbquo;high speed write&lsquo;
geschrieben, z.&nbsp;B. um den Schirm zu loeschen, so wird, da BLK aktiv
ist, in die Leseseite geschrieben. Dies stoert genau dann, wenn man
schnell in eine unsichtbare Seite schreiben will. Darum muesste zur
Unterscheidung das invertierte DW-Signal benuetzt werden. Ich habe das
allerdings noch nicht ausprobiert (Es koennen vielleicht Timingprobleme
auftreten).
</p>
<p>
Apropos Timingprobleme: Ich empfehle, fuer IC&nbsp;20 und IC&nbsp;30 Schottky
Typen zu verwenden, sonst koennen Fehler auftreten, wenn im &sbquo;Fastmodus&lsquo;
invertiert wird.
</p>
<h4>
Nun zum Programm selbst:
</h4>
<p>
Es ist eigentlich eine Sammlung von Unterprogrammen zur Ansteuerung der
Grafik, geschrieben in
<span class="uppercase"><!-- External Link --><a href="https://en.wikipedia.org/wiki/Pascal/MT%2B" title="Externer Link: Pascal/MT+" target="_blank" rel="noreferrer">Pascal MT+</a><!-- /External Link --></span>.
Da das Programm 400 Zeilen lang ist,
waere das Eintippen zu muehselig. Es ist in MODULE-Form geschrieben,
wird also getrennt zum Hauptprogramm compiliert und wird beim Linken an
dieses angebunden. Das sieht dann so aus:
</p>
<p>
LINKMT GDEMO,GDPMOD,FPREALS,PASLIB/S<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br>
&nbsp; &nbsp; Hauptprogramm &nbsp; | &nbsp; wird von GDPMOD benoetigt<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Modul mit Grafikroutinen
</p>
<p>
Damit man im Hauptprogramm nicht alle Grafikroutinen als <span class="uppercase">External</span>
definierten muss, wird dies in einem File namens GDPMOD.INC gemacht,
und dies wird nach den Variablen- und vor den Prozedur- und
Funktionsvereinbarungen in das Programm eingefuegt mit {$I GDPMOD.INC}.
</p>
<p>
Wer sich dafuer interessiert, schicke mir doch eine formatierte
Diskette (im
<!-- External Link --><a href="https://www.auram.de/cms3/pages/computer/mc-cpm.php" title="Externer Link: mc-CP/M" target="_blank" rel="noreferrer">MC-CP/M</a><!-- /External Link --><!-- External Link --><a href="https://de.wikipedia.org/wiki/Mc_%28Zeitschrift%29" title="Externer Link: mc" target="_blank" rel="noreferrer">MC</a><!-- /External Link -->-Format
= ECMA 70 (Format der ersten drei Tracks
beliebig) oder eine 8&Prime; Diskette im IBM-Format (SD) und einen
adressierten Freiumschlag.). Ich spiele das MODULE dann drauf und noch
ein kleines Demonstrationsprogramm.
</p>
<p>
Der Ursprung des Bildes (0/0) liegt in der Mitte des Schirms, d. h. er
ist

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

folgendermassen aufgebaut:
</p>

<!-- Kasten über ganze Spalte: Start --><div style="border-style: solid; padding: 10px; border-width: 2px;  width: 100%; ">
<table style="width: 100%">
<tr><td>-256/ 255</td><td>0/ 255</td><td>255/ 255</td></tr>
<tr><td>-256/ 0</td><td>0/ 0</td><td>255/ 0</td></tr>
<tr><td>-256/-256</td><td>0/-256</td><td>255/-256</td></tr>
</table>
<!-- Kasten: Ende --></div>

<h4>
Nun ein paar Typenvereinbarungen:
</h4>
<p>
DRAWMODE = (ERASE,DOMINANT,INVERT);
</p>
<table class="donthyphenate">
<tr><td>SECTORPOS&nbsp;</td>
<td>= (EN,NE,WN,NW,ES,SE,WS,SW);<br>
SECTORPOS bestimmt die Lage eines Achtelkreises:</td></tr>
</table>
&nbsp;<br>

<table style="margin: auto">
<tr><td></td><td>NW</td><td>NE</td><td></td></tr>
<tr><td>WN</td><td></td><td></td><td>EN</td></tr>
<tr><td>WS</td><td></td><td></td><td>ES</td></tr>
<tr><td></td><td>SW</td><td>SE</td><td></td></tr>
</table>

<p>
PATTERN = (CONT,DOT,DASH,DOTDASH);<br>
TTYPE = (NORMAL,TILTED,VERT,TILVERT);<br>
STRING85 = STRING[85];<br>
PICTURE = FILE OF BYTE;
</p>
<h4>
Zu den Unterprogrammen im Einzelnen:
</h4>

<table class="tab-justify donthyphenate">
<tr><td>GWAIT:</td><td>Wartet, bis GDP ready (Status-Register, Bit 2).</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td COLSPAN="2">READPAGE(N: BYTE);</td></tr>
<tr><td COLSPAN="2">WRITEPAGE(N: BYTE):</td></tr>
<tr><td></td><td>Waehlt Lese- und Schreibseite aus (Port 9EH).</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td>GCLEAR:</td><td>Setzt GDP, Port 9E und 9F zurueck, loescht die Seiten 0 und 1.</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td>G0N;</td><td></td></tr>
<tr><td>GOFF:</td><td>Schaltet Grafik ein bzw. aus (Port 9F, Bit&nbsp;7).</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td COLSPAN="2">LPATTERN(P: PATTERN):</td></tr>
<tr><td></td><td>Waehlt Art der Linie (durchgezogen, etc.).</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td COLSPAN="2">TEXTTYPE(T: TTYPE):</td></tr>
<tr><td></td><td>Waehlt Schriftart (z.&nbsp;B.: vertikal, kursiv,&nbsp;&hellip;).</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td COLSPAN="2">CHARSIZE(X,Y: INTEGER):</td></tr>
<tr><td></td><td>Vergroesserung der Schrift.</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td COLSPAN="2">TYPETEXT (X, Y: INTEGER; T: STRING85; AUTODEL: BOOLEAN):</td></tr>
<tr><td></td><td>Gibt Text aus. Wenn AUTODEL = TRUE ist, wird vorher der Schirm teilweise geloescht.</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td>DRAWER;</td><td></td></tr>
<tr><td>ERASER;</td><td></td></tr>
<tr><td>INVERTER:&nbsp;</td><td>Waehlen den entsprechenden Zeichenstift.</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td>DOWN;</td><td></td></tr>
<tr><td>UP:</td><td>Schreiber &rsquo;runter bzw. &rsquo;rauf.</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td COLSPAN="2">ONSCREEN(X,Y: INTEGER): BOOLEAN;</td></tr>
<tr><td></td><td>Testet, ob auf dem Bildschirm.</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td COLSPAN="2">DRAW(X,Y: INTEGER):</td></tr>
<tr><td></td><td>Setzt Punkt (X/Y).</td></tr>
<tr><td colspan=2>&nbsp;</td></tr>
<tr><td COLSPAN="2">PLOT (X, Y: INTEGER; COLOUR: DRAWMODE):</td></tr>
<tr><td></td><td>Wie DRAW, mit Auswahl und Runterfahren des Schreibers.</td></tr>
</table>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../48/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/m2/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 49 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/04/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../50/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/84-03.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->