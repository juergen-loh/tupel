<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus Journal - Okt.&#x200b;/&#x200b;Nov.&#x200b;/&#x200b;Dezember 1984 - Ausgabe 4</title>
	<!-- Sun, 15 Dec 2024 13:31:40 GMT -->
	<meta name="keywords" content="80-Bus Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-15 14:31:39 +0100 (So, 15. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">80-Bus Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">Okt.&#x200b;/&#x200b;Nov.&#x200b;/&#x200b;Dezember 1984 &middot;</span> <span class="nowrap">Ausgabe 4</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../35/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/03/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 36 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../85/m3/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../37/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2 Spalten im Blocksatz: Start --><div class="row"><div class="col-sm-6 justify">

<h1 id="article1">
CP/M-BIOS
</h1>
<h3>
von <span class="uppercase">David Kastrup</span>
</h3>
<h3>
1. CP/M-Bios
</h3>
<h4>
a) BIOSMAIN.MAC
</h4>
<p>
Dieses Modul enthält die Einsprungpunkte des BIOS und die
Diskettentreiber.
</p>
<p>
Mit meiner jetzigen Version können 2 Laufwerke TEAC FD 55-F angesteuert
werden. Dabei erkennt es im 2. Laufwerk (B:) 6 verschiedene
Diskettenformate, die entsprechend behandelt werden. Es wird zwischen
DD und SD unterschieden, zwischen 35- und 80-Track-Formaten, und bei
Double-Density können sowohl 256-Byte-Sektoren (ECMA), als auch
512-Byte-Sektoren verwendet werden. Teile dieses Moduls sind aus Richard
Beal&rsquo;s BIOS entnommen worden. Der Großteil stammt von mir.
</p>
<h4>
b) BIOSIO.MAC
</h4>
<p>
Dieses Modul enthält die Byte-orientierten Ein-/Ausgabe-Treiber. Es
werden die Einheiten CON:, RDR:, PUN: und LST: zur Verfügung gestellt.
Das Intel-I/O-Byte ist voll implementiert. Als Druckereinheiten stehen
zur Verfügung: der Bildschirm, die serielle Schnittstelle (Portaddresse
patchbar), die serielle Schnittstelle Handshake (Port 0 Bit 7), und
eine <!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0180.pdf" title="Externer Link: Z80 PIO" target="_blank" rel="noreferrer">PIO</a><!-- /External Link -->
 mit Centronics-kompatiblen Handshake-Signalen. Der Großteil
dieses Moduls stammt von Richard Beal.
</p>
<h4>
c) BIOSKBD.MAC
</h4>
<p>
Diese Keyboard-Routine läuft über einen 50 ms-Interrupt, der von einem
<!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0181.pdf" title="Externer Link: Z80 CTC" target="_blank" rel="noreferrer">CTC</a><!-- /External Link -->
generiert wird. Da die Keyboard-Routine komplett von mir selber
geschrieben wurde, ist die Veröffentlichung unbedenklich. Abgesehen von
der anderen Tastenbelegung weist die Keyboard-Routine noch einige
andrere Besonderheiten auf: mit Graph-C wird ein
<!-- External Link --><a href="https://de.wikipedia.org/wiki/CP/M" title="Externer Link" target="_blank" rel="noreferrer">CP/M</a><!-- /External Link -->-Warmboot
durchgeführt (anstelle von RESET, das bei mir NAS-SYS&nbsp;3 einblendet und
startet), mit Graph-K wird die Funktion der SHIFT-Taste bei Buchstaben
umgekehrt, mitGraph-R wird immer der Keyboard-Status Not-Ready
zurückgeliefert, da manche Programme abbrechen, sobald eine Taste
gedruckt wird und man so nicht im voraus tippen kann, und mit Graph-T
wird der Interrupt-Buffer (32 Zeichen max.) geleert.
</p>
<h4>
d) BIOSCRT.MAC
</h4>
<p>
Dieses Modul verwendet die
<!-- External Link --><a href="https://80bus.co.uk.mirror.jloh.de/pages/nascom/avc_model_b_issue_a.htm" title="Externer Link" target="_blank" rel="noreferrer">AVC</a><!-- /External Link -->-Grafik-Platine als
96x25-Zeichen-Bildschirm, der wahlweise auch in Single-Resolution mit
einer Auflösung von 48x25 Zeichen betrieben werden kann. Jedes Zeichen
wird in einem 8x10 Pixel großen Feld dargestellt, die eigentliche
Zeichenmatrix beträgt 5x7 mit 2 Pixel Unterlängen. Es können 2
verschiedene Zeichensätze selektiert werden.
</p>
<p>
Beide Zeichensätze können
jederzeit umprogrammiert werden. Da große Teile der
Bildschirmansteuerung von dem BIOS von Lampsson übernommen worden sind,
ist dieser Teil zur Veröffentlichung ungeeignet.
</p>
<div id="nascompl">
<div class="text-end"><img class="img-fluid" src="../../Image-36-1.png" alt="" width="197" height="60"></div>
</div>
<h4>
e) BIOSCSUS.MAC bzw. BIOSCSGR.MAC
</h4>
<p>
Enthalten einen englischen bzw. einen deutschen Zeichensatz für das
Terminal.<br><br>
</p>

<!-- 2 Spalten im Blocksatz: Spaltenwechsel --></div><div class="col-sm-6 justify">

<h1 id="article2">
CPM/&#x200b;LIFE
</h1>
<h3>
von <span class="uppercase">David Kastrup</span>
</h3>
<p>
Das bekannte und beliebte
<a href="../../../../83/05/14/text/#article1">MpdK-Life</a>
liegt jetzt auch in einer Version für CP/M,
<!-- External Link --><a href="https://en.wikipedia.org/wiki/Pascal/MT%2B" title="Externer Link: Pascal/MT+" target="_blank" rel="noreferrer">Pascal-MT+</a><!-- /External Link -->
und AVC-Grafik-Karte vor. Der zeitkritische Teil
ist mit Macro-80 in
<!-- External Link --><a href="https://de.wikipedia.org/wiki/Zilog_Z80" title="Externer Link" target="_blank" rel="noreferrer">Z80</a><!-- /External Link -->-Assembler
geschrieben worden, die maximale
Auflösung betragt ungefähr 384x200. Bei dieser Größe wird die nächste
Generation normalerweise in weniger als 1-2 sec berechnet. Das ist nur
durch eine grundlegend verbesserte Kernroutine möglich. Damit die
meisten Nascom- Benutzer von dieser Verbesserung profitieren können,
habe ich diese veränderte Routine auch in das alte
<a href="../../../../83/05/14/text/#article1">Kassetten-Life</a>
eingebaut. Es rechnet jetzt die Generationen mit einem Schnitt von ca.
12 Generationen pro Sekunde aus (ich phantasiere nicht, probieren Sie
es aus!). Damit ist MpdK- Life das schnellste mir bekannte Life, wenn
man die relativ große Auflösung von 96x45 mitberücksichtigt.
</p>
<p>
Ich schicke die Source-Versionen von beiden Lifes mit. Das
Kassetten-Life ist leider fast völlig undokumentiert und schlecht strukturiert.
Die CP/M-Version ist wesentlich lesbarer (auch durch die Verwendung von
Macros). Außerdem könnte man sie auf jeder Grafik laufen lassen (also
auch auf der
<a href="../../../01/03/text/#article2">80-Bus-Journal-Grafik-Karte</a>),
wenn man die
Bildschirm-Routinen entsprechend abändert. Da dies der einzige
maschinenabhängige Bestandteil ist, wäre dies für alle Leute
interessant, die so etwas wie eine Grafik ihr eigen nennen. Allerdings
möchte ich darum bitten, die Copyright-Notiz mitzuübernehmen. Ich
glaube, die Arbeit von Michael Prümm und mir ist zumindest soviel wert.
</p>
<p>
Die Bedienung des Kassetten- Life hat sich nicht verändert, die
CP/M-Version unterscheidet sich in einigen Punkten davon. Der God-Befehl ist
gestrichen worden; man kann sich stattdessen sofort mit den
Cursortasten bewegen und mit Space eine Zelle invertieren. Die Befehle
zum Abspeichern eines Bildes im Speicher sind gestrichen worden.
Stattdessen kann man mit W ein Bild auf Diskette abspeichern und es mit
R wieder einlesen. Mit G erhält man die Anzahl der vergangenen
Generationen, mit D stellt man die Verzögerung nach der Entwicklung
einer Generation ein, mit P wird eine Volkszählung veranstaltet, und
mit Q landet man wieder im CP/M.
</p>
<p>
LIFE.ZEA ist ein ZEAP-Assembler-file. LIFE hat zwei Einsprung-punkte.
Der erste (beim ORG) ist der normale, der 2. (bei ORG+3) löscht den
Bildschirm nicht. Dadurch kann man z.B. vom Basic aus den Bildschirm
per Zufall füllen und dann ins LIFE springen.
</p>
<p>
Allerdings darf der
Bildschirm kein Blank (20H) enthalten. Das muß durch 0C0H ersetzt wer
den.
</p>
<br>
<p class="uppercase">
Da es der vorhandene Platz in dieser Ausgabe nicht gestattet, die
langen Listings abzudrucken, wurden die Programme von David Kastrup nur
auf DISK5 übernommen. &nbsp; Red.
</p>
<!-- 2 Spalten: Ende --></div></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../35/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/03/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 36 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../85/m3/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../37/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/84-04.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->