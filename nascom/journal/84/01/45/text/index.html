<!doctype html>
<html lang="de">

<!-- navi-head.php / $Date: 2025-01-05 17:01:36 +0100 (So, 05. Jan 2025) $ -->
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="utf-8">

	<link rel="shortcut icon" type="image/x-icon" href="../../../../../../nascom/nascom.ico">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="32x32">
	<link rel="icon" type="image/png" href="../../../../../../nascom/apple-touch-icon.png" sizes="96x96">
	<link rel="apple-touch-icon" sizes="180x180" href="../../../../../../nascom/apple-touch-icon.png">

	<!--bootstrap-->
	<link rel="stylesheet" href="../../../../../../cdn/bootstrap/css/bootstrap.min.css">

	<!--font awesome-->
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/fontawesome.min.css">
	<link rel="stylesheet" href="../../../../../../cdn/fontawesome/css/solid.min.css">

	<link rel="stylesheet" type="text/css" href="../../../../../../style.css">
	<link rel="canonical" href="https://tupel.jloh.de/nascom/journal/84/01/45/text/">
<!-- /navi-head.php -->

	<!-- page.php / $Date: 2024-07-13 18:55:41 +0200 (Sa, 13. Jul 2024) $ -->

	<title>80-Bus Journal - Jan&#x200b;/&#x200b;Feb&#x200b;/&#x200b;März 1984 - Ausgabe 1</title>
	<!-- Sun, 05 Jan 2025 16:01:37 GMT -->
	<meta name="keywords" content="80-Bus Journal, Nascom Computer, Nascom 1, Nascom 2">
<!-- navi-body.php -->
</head>

<body>
	<nav class="navbar navbar-expand-md navbar-light bg-light style-navbar-top" id="top">
	<div class="container-fluid">
		<a class="navbar-brand" href="https://jloh.de/">
			<img src="../../../../../../favicon.ico" width="32" height="32" alt="JL" title="Homepage von Jürgen Loh">
		</a>
		<button
			class="navbar-toggler"
			type="button"
			data-bs-toggle="collapse"
			data-bs-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent"
			aria-expanded="false"
			aria-label="Toggle navigation"
		>
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse robots-nocontent" id="navbarSupportedContent">
			<ul class="navbar-nav md-auto">
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../z80-kit/">Z80-KIT</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/1/">Nascom 1</a>
				</li>
				<li class="nav-item">
					<a class="nav-link active" href="../../../../../../nascom/">Nascom Journal</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../nascom/magazines/issues/">Nascom Magazines</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../pico/">PICO</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../cpm-plus/">CP/M</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="../../../../../../">Tupel BBS</a>
				</li>
			</ul>
		</div>
	</div>
	</nav>

	<div class="container" style="max-width: 750px; color: #000; padding: 0 15px 0; background-color: #FFF">

<!--********************************************************************************-->

<!-- /navi-body.php / $Date: 2024-12-30 14:10:13 +0100 (Mo, 30. Dez 2024) $ -->
<table class="style-table-zeropadding" style="width: 100%">
	<tr>
		<td>
			<h1 class="h1Navi">80-Bus Journal</h1>
		</td>
		<td>&nbsp;&nbsp;</td>
		<td style="vertical-align:top">
			<h2 class="h2Navi"><span class="nowrap">Jan&#x200b;/&#x200b;Feb&#x200b;/&#x200b;März 1984 &middot;</span> <span class="nowrap">Ausgabe 1</span></h2>
		</td>
	</tr>
</table>

<div id="head"><!-- Navigation oben -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../44/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/m1/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 45 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/02/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../46/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
</div><!-- /Navigation oben -->

<!-- Die Seite -->
<div class="row" id="page"><div class="col-sm-12 hyphenate" style="border: 1px solid #000; padding-top: 1em; padding-bottom: 1em;">

<!-- 2(2) Spalten im Blocksatz: Start --><div class="style-multi-column-2 justify">

<h1 id="article1">
Seite(n) für<br>
Floppy-Einsteiger
</h1>
<h3>
von <span class="uppercase">Günter Böhm</span>
</h3>
<p>
Der
<a href="../../../../83/05/09/text/#article1">Schaltplan</a>
zu unserer
<a href="../../../../83/07/30/text/#article1">Floppy- Karte</a>
wird durch nachträgliche
Änderungen und Einfügungen immer unübersichtlicher, sodaß Andreas
Zippel darangehen möchte, eine verbesserte Version erneut zu zeichnen.
Bis dahin müssen wir aber noch einige manuellen Änderungen anbringen.
</p>
<p>
So haben einige Leser festgestellt, daß die BAO- Leitung an Pin 25a
liegen sollte, und ebenso BAI an 23a (und nicht an c&nbsp;) um der
<!-- External Link --><a href="https://de.wikipedia.org/wiki/Europe_Card_Bus" title="Externer Link: Einfach-Europaformat-Computer-Baugruppe" target="_blank" rel="noreferrer">ECB</a><!-- /External Link -->-&bdquo;Norm&ldquo;
zu entsprechen. Dies ist kein Versehen, sondern
ein Ergebnis der Existenz verschiedener Normen.
</p>
<p>
Ein
<a href="../../35/text/#article2">Versehen</a>
ist allerdings die Vertauschung der A0 und A1 Anschlüsse
an der <!-- External Link --><a href="https://www.zilog.com/docs/z80/ps0180.pdf" title="Externer Link: Z80 PIO" target="_blank" rel="noreferrer">PIO</a><!-- /External Link -->. Sie ist auf der Platine so angeschlossen wie auf der
<!-- External Link --><a href="https://de.wikipedia.org/wiki/Mc_%28Zeitschrift%29" title="Externer Link" target="_blank" rel="noreferrer">mc</a><!-- /External Link -->-Karte,
und nicht wie im Schaltplan angegeben. Deshalb stimmt auch die
Programmierung der PIO in den Floppy-Programmen und ist nicht schuld am
&bdquo;<a href="../../../m1/10/text/#article1">Verschiebefehler</a>&ldquo;
unseres Preisausschreibens, wie der
Einsender einer Lösung meinte. Ein zweiter schlug vor, den 245 zu
überbrücken, um den Fehler zu beheben. Dies konnte noch nicht
ausprobiert werden, würde aber auf einen Steuerfehler der PROMs
hinweisen, die gerade von Andreas überprüft werden. Die Auflösung muß
also noch hinausgeschoben werden.
</p>
<p>
Ein weiterer Hinweis war, die Pins 21 und 22 zu verbinden, wie in
<!-- External Link --><a href="https://de.wikipedia.org/wiki/Mc_%28Zeitschrift%29" title="Externer Link" target="_blank" rel="noreferrer">mc</a><!-- /External Link -->
 4/84 vorgeschlagen. Bis auf die
beschriebene Einschränkung funktioniert die Karte allerdings auch ohne
Änderungen wunderbar, wenn auch ohne DMA. Das werden wir aber auch noch
in den Griff bekommen.
</p>
<p>
Nach dem Aufruf in der letzten
&bdquo;<a href="../../../m1/08/text/#article1">Mini-Ausgabe</a>&ldquo;
haben sich nun
doch ca. 10 Leser gemeldet, bei denen die Floppy-Karte nun einwandfrei
mit EMDOS läuft. Andere sind noch mit dem Bau der Karte beschäftigt.
Über die Anpassung verschiedener Laufwerke können Sie in den Berichten
an anderer Stelle in diesem Heft nachlesen.
</p>
<p>
Nun aber zunächst noch einige &bdquo;Bugs&ldquo;, die sich bei einer so
komplizierten Materie notgedrungen einschleichen.
</p>
<!-- nowrap Start --><div class="style-nowrap">
<h4>
1. Druckfehler in
<a href="../../../../83/12/13/text/#article1">Heft 12/83</a>
</h4>

<!-- 2 Spalten im Blocksatz: Spaltenwechsel -->

<p>
<a href="../../../../83/12/14/text/#article1">Seite 14:</a>
Im drittletzten Abschnitt muß es heißen &bdquo;In Zeile
2330....&ldquo; (nicht 2030)
</p>
<!-- nowrap Ende --></div>
<p>
<a href="../../../../83/12/19/text/#article1">Seite 19:</a>
Zeile 1440 &nbsp; LD A,21 ;Vers. Double
Dense (Sonst wird der <span class="uppercase">Warmboot</span> mit Double Density nicht fertig. Dieser
Fehler ist leider auch noch auf den alten Versionen der Systemdiskette
im Assemblerlisting vorhanden. Auf den Systemspuren ist es in Ordnung).
</p>
<p>
Weiterhin müßten ins Assemblerlisting des
<a href="../../../../83/12/20/text/#article1">NASGEN</a>
(auch auf der
Diskette) noch vier Zeilen eingefügt werden, um die Funktion zu
optimieren.
</p>
<pre class="donthyphenate">
581  LD A,#B7
582  LD (#A18A),A
</pre>
<p>
Ohne diese Zeilen wird EMDOS im Warmstartmodus auf die Systemspuren
geschrieben. Nach dem Booten läuft EMDOS zwar einwandfrei, weil es die
Interruptroutine des Warmbooters bei 8D1E verwenden kann. Wenn man aber
diesen Bereich mit einem File überschreibt, bricht das Programm
zusammen. Die zusätzlichen Zeilen veranlassen EMDOS, im Kaltstart die
PIO für die vorgesehene Interruptroutine zu initiieren.
</p>
<pre class="donthyphenate">
351  LD A,1
352  CALL PHEAS
</pre>
<p>
Dadurch wird vor der Ausführung von NASGEN ein HOME durchgeführt. Erst
dann ist das Laufwerk bereit. Ohne diese Zeilen kann NASGEN nur bei
stehendem Laufwerk gestartet werden, denn dadurch wird automatisch ein
HOME gemacht.
</p>
<p>
Dieses seltsame (zumindest mir unerklärliche) Verhalten des Controllers
hat mich auch zu einer erneuten Änderung im PHEAS veranlasst.
</p>
<p>
In der ursprünglichen Version brauchte PHEAS ziemlich lange, bis es ans
Lesen eines Files ging (siehe &bdquo;Skew-Factor&ldquo;
<a href="../../../../83/12/22/text/#article1">Heft 12/83</a>).
Diese Verzögerung vor dem ersten Lesen rührte daher, daß nach TSTHOM,
obwohl das Bit7 Bereitschaft des Laufwerks signalisierte, ein Lesen
nicht möglich war und zunächst 5 Retries gemacht wurden, die etwa 8
Sekunden benötigten. Nach den 5 erfolglosen Versuchen machte PHEAS dann
den CALL HOME, und nun funktionierte die Sache.
</p>
<p>
Deshalb wurde der
Anfang der TSTHOM- Routine geändert, Die Ausgabe des HOME- Befehls mit
der anschließenden Warteschleife wurde herausgeworfen und an ihrer
Stelle ein CALL HOME eingesetzt. Sollte kein Laufwerk angeschlossen
sein, bleibt die Routine dennoch
</p>

<!-- 2 Spalten: Ende --></div>

</div></div>
<!-- /Die Seite -->

<!-- Navigation unten -->
<table class="robots-nocontent style-table-zeropadding" style="width: 100%">
	<tr>
		<td class="navi-button">
			<a style="display: block" href="../../44/text/" title="Seite zurück"><span class="mirror-horizontal fas fa-play" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../01/text/" title="Erste Seite"><span class="mirror-horizontal fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/m1/01/text/" title="Heft zurück"><span class="mirror-horizontal fas fa-forward" aria-hidden=true></span></a>
		</td>
		<th class="navi-button">
			<a style="display: block" href="../../text/" title="Inhaltsverzeichnis">Seite 45 von 52</a>
		</th>
		<td class="navi-button">
			<a style="display: block" href="../../../../84/02/01/text/" title="Heft vor"><span class="fas fa-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../52/text/" title="Letzte Seite"><span class="fas fa-fast-forward" aria-hidden=true></span></a>
		</td>
		<td class="navi-button">
			<a style="display: block" href="../../46/text/" title="Seite vor"><span class="fas fa-play" aria-hidden=true></span></a>
		</td>
	</tr>
</table>
<!-- /Navigation unten -->

<!-- navi-footer.php / $Date: 2023-03-11 15:22:20 +0100 (Sa, 11. Mrz 2023) $ -->

<!--********************************************************************************-->

	</div>

	<nav class="nav flex-column flex-md-row style-navbar-bottom robots-nocontent"> <!--nav-pills-->
		<a class="sm-fill nav-link" href="#top"><span title="Nach oben" class="fa fa-chevron-up" aria-hidden=true></span></a>
		<!--a class="sm-fill nav-link disabled">Text</a-->
		<a class="sm-fill nav-link" href="../">Grafik</a>
		<a class="sm-fill nav-link" href="../../thumb/text/">Miniatur&shy;bilder</a>
		<a class="sm-fill nav-link" href="../../../../../../nascom/journal/pdf/84-01.pdf" download>PDF</a>
		<a class="sm-fill nav-link" href="../../../../../../datenschutzerklaerung/">Datenschutzerklärung</a>
		<a class="sm-fill nav-link" href="../../../../../../impressum/">Impressum</a>
	</nav>

	<!--bootstrap-->
	<script src="../../../../../../cdn/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

<!-- /navi-footer.php -->
</html>

<!-- /page.php -->